<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TOMMY HILFIGER - Cyber Nexus Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Space+Mono:wght@400;700&family=Exo+2:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<style>
/* =============== VARIABEL WARNA & DESAIN =============== */
:root {
--primary: #00ffff;
--primary-dark: #00cccc;
--secondary: #ff00ff;
--secondary-dark: #cc00cc;
--accent: #00ff88;
--accent-dark: #00cc66;
--warning: #ffaa00;
--success: #00ff00;
--danger: #ff3366;
--dark: #0a0a0f;
--darker: #05050a;
--panel: rgba(10, 15, 30, 0.95);
--panel-light: rgba(15, 25, 40, 0.85);
--glass: rgba(255, 255, 255, 0.05);
--border-color: rgba(0, 255, 255, 0.2);
--text-primary: #ffffff;
--text-secondary: #b0c4ff;
--text-muted: #8090b0;
--shadow-glow: 0 0 20px rgba(0, 255, 255, 0.3);
--shadow-card: 0 10px 30px rgba(0, 0, 0, 0.3);
}

/* =============== RESET & BASE STYLES =============== */
* {
box-sizing: border-box;
margin: 0;
padding: 0;
}

html {
scroll-behavior: smooth;
}

body {
display: flex;
min-height: 100vh;
color: var(--text-primary);
font-family: 'Exo 2', 'Rajdhani', sans-serif;
background: #000;
overflow-x: hidden;
position: relative;
}

/* =============== ULTIMATE BACKGROUND =============== */
.cyber-bg {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: -3;
}

.cyber-bg::before {
content: "";
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background:
radial-gradient(ellipse at 20% 20%, rgba(0, 255, 255, 0.15) 0%, transparent 50%),
radial-gradient(ellipse at 80% 80%, rgba(255, 0, 255, 0.15) 0%, transparent 50%),
radial-gradient(ellipse at 50% 50%, rgba(0, 255, 136, 0.08) 0%, transparent 70%),
linear-gradient(135deg, #000 0%, #0a0a1f 50%, #000 100%);
animation: bgShift 20s ease-in-out infinite;
}

@keyframes bgShift {
0%, 100% { transform: scale(1) rotate(0deg); }
50% { transform: scale(1.1) rotate(1deg); }
}

/* Advanced Particle System */
.particles {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: -2;
pointer-events: none;
}

.particle {
position: absolute;
width: 3px;
height: 3px;
background: var(--primary);
border-radius: 50%;
box-shadow: 0 0 15px var(--primary);
animation: float 20s infinite linear;
}

@keyframes float {
0% {
transform: translateY(100vh) translateX(0) rotate(0deg);
opacity: 0;
}
10% {
opacity: 1;
}
90% {
opacity: 1;
}
100% {
transform: translateY(-100vh) translateX(100px) rotate(720deg);
opacity: 0;
}
}

/* Dynamic Grid Overlay */
.grid-overlay {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: -1;
background-image: 
linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),
linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px);
background-size: 50px 50px;
animation: gridMove 15s linear infinite;
}

@keyframes gridMove {
0% { transform: translate(0, 0); }
100% { transform: translate(50px, 50px); }
}

/* Hexagonal Pattern */
.hex-pattern {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: -1;
opacity: 0.1;
background-image: 
radial-gradient(circle at 20% 50%, transparent 20%, rgba(0, 255, 255, 0.3) 21%, transparent 80%),
radial-gradient(circle at 80% 50%, transparent 20%, rgba(255, 0, 255, 0.3) 21%, transparent 80%),
radial-gradient(circle at 50% 20%, transparent 20%, rgba(0, 255, 136, 0.3) 21%, transparent 80%);
background-size: 100px 100px;
animation: hexFloat 30s ease-in-out infinite;
}

@keyframes hexFloat {
0%, 100% { transform: translate(0, 0) scale(1); }
33% { transform: translate(-20px, -20px) scale(1.1); }
66% { transform: translate(20px, -10px) scale(0.9); }
}

/* =============== ULTIMATE SIDEBAR =============== */
.sidebar-future {
width: 320px;
height: 100vh;
background: linear-gradient(180deg,
rgba(5, 10, 20, 0.98) 0%,
rgba(10, 15, 30, 0.95) 50%,
rgba(5, 10, 20, 0.98) 100%);
backdrop-filter: blur(20px);
-webkit-backdrop-filter: blur(20px);
border-right: 2px solid var(--border-color);
box-shadow:
4px 0 30px rgba(0, 255, 255, 0.3),
inset -1px 0 0 rgba(255, 255, 255, 0.05);
display: flex;
flex-direction: column;
position: relative;
z-index: 100;
overflow: hidden;
transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Ultimate Holographic Effect */
.sidebar-future::before {
content: "";
position: absolute;
top: -50%;
left: -50%;
width: 200%;
height: 200%;
background: conic-gradient(
from 0deg,
transparent,
rgba(0, 255, 255, 0.1),
transparent,
rgba(255, 0, 255, 0.1),
transparent
);
animation: holographic 8s linear infinite;
pointer-events: none;
z-index: -1;
}

@keyframes holographic {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}

/* Energy Flow Effect */
.sidebar-future::after {
content: "";
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(90deg,
transparent,
rgba(0, 255, 255, 0.05),
transparent,
rgba(255, 0, 255, 0.05),
transparent);
animation: energyFlow 4s ease-in-out infinite;
pointer-events: none;
z-index: -1;
}

@keyframes energyFlow {
0%, 100% { transform: translateX(-100%); }
50% { transform: translateX(100%); }
}

/* Sidebar Collapsed State */
.sidebar-future.collapsed {
width: 80px;
}

.sidebar-future.collapsed .robot-header h2,
.sidebar-future.collapsed .robot-subtitle,
.sidebar-future.collapsed .robot-nav ul li a span,
.sidebar-future.collapsed .robot-footer .sys-line {
display: none;
}

.sidebar-future.collapsed .robot-header {
padding: 20px 10px;
}

.sidebar-future.collapsed .robot-nav ul li a {
justify-content: center;
padding: 14px;
}

.sidebar-future.collapsed .robot-footer {
padding: 10px;
}

/* Ultimate Sidebar Toggle */
.sidebar-toggle {
position: absolute;
top: 20px;
right: -20px;
width: 40px;
height: 40px;
background: linear-gradient(135deg, var(--primary), var(--secondary));
border: 2px solid var(--border-color);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
color: var(--dark);
cursor: pointer;
z-index: 101;
transition: all 0.3s ease;
box-shadow: 
0 0 20px rgba(0, 255, 255, 0.4),
0 0 40px rgba(255, 0, 255, 0.2);
animation: togglePulse 2s ease-in-out infinite;
}

@keyframes togglePulse {
0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(0, 255, 255, 0.4), 0 0 40px rgba(255, 0, 255, 0.2); }
50% { transform: scale(1.1); box-shadow: 0 0 30px rgba(0, 255, 255, 0.6), 0 0 60px rgba(255, 0, 255, 0.3); }
}

.sidebar-toggle:hover {
transform: scale(1.2) rotate(180deg);
box-shadow: 
0 0 30px rgba(0, 255, 255, 0.6),
0 0 60px rgba(255, 0, 255, 0.3);
}

/* Ultimate Sidebar Header */
.robot-header {
padding: 40px 20px;
text-align: center;
position: relative;
background: linear-gradient(135deg, var(--glass), transparent);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
overflow: hidden;
}

.robot-header::after {
content: "";
position: absolute;
bottom: 0;
left: 10%;
width: 80%;
height: 3px;
background: linear-gradient(90deg,
transparent,
var(--primary),
var(--secondary),
var(--accent),
transparent);
animation: headerLine 3s ease-in-out infinite;
box-shadow: 0 0 20px var(--primary);
}

@keyframes headerLine {
0%, 100% {
opacity: 0.3;
transform: scaleX(0.8) translateY(0);
}
50% {
opacity: 1;
transform: scaleX(1) translateY(-2px);
}
}

.robot-header h2 {
font-family: 'Orbitron', sans-serif;
font-size: 2.2rem;
font-weight: 900;
background: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
text-shadow: 0 0 40px rgba(0, 255, 255, 0.5);
letter-spacing: 2px;
margin-bottom: 10px;
animation: titleGlow 2s ease-in-out infinite alternate;
position: relative;
}

.robot-header h2::before {
content: attr(data-text);
position: absolute;
left: 2px;
top: 2px;
z-index: -1;
background: linear-gradient(135deg, var(--secondary), var(--danger));
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
animation: glitch 2s infinite;
}

@keyframes glitch {
0%, 100% { clip-path: inset(0 0 0 0); }
20% { clip-path: inset(20% 0 30% 0); }
40% { clip-path: inset(50% 0 20% 0); }
60% { clip-path: inset(10% 0 60% 0); }
80% { clip-path: inset(80% 0 5% 0); }
}

@keyframes titleGlow {
0% {
filter: brightness(1) drop-shadow(0 0 20px rgba(0, 255, 255, 0.5));
transform: translateY(0);
}
100% {
filter: brightness(1.3) drop-shadow(0 0 40px rgba(0, 255, 255, 0.8));
transform: translateY(-3px);
}
}

.robot-subtitle {
font-size: 0.85rem;
color: var(--text-secondary);
text-transform: uppercase;
letter-spacing: 3px;
margin-bottom: 20px;
animation: subtitlePulse 3s ease-in-out infinite;
}

@keyframes subtitlePulse {
0%, 100% { opacity: 0.7; }
50% { opacity: 1; }
}

.status-indicator {
display: inline-flex;
align-items: center;
gap: 12px;
padding: 12px 20px;
background: linear-gradient(135deg, 
rgba(0, 255, 136, 0.2), 
rgba(0, 255, 136, 0.1));
border: 1px solid rgba(0, 255, 136, 0.3);
border-radius: 25px;
font-size: 0.9rem;
color: var(--accent);
font-weight: 600;
backdrop-filter: blur(10px);
animation: statusPulse 2s ease-in-out infinite;
position: relative;
overflow: hidden;
}

.status-indicator::before {
content: "";
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg,
transparent,
rgba(0, 255, 136, 0.3),
transparent);
animation: statusScan 3s linear infinite;
}

@keyframes statusScan {
0% { left: -100%; }
100% { left: 100%; }
}

@keyframes statusPulse {
0%, 100% {
box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
transform: scale(1);
}
50% {
box-shadow: 0 0 30px rgba(0, 255, 136, 0.5);
transform: scale(1.05);
}
}

.status-indicator .dot {
width: 10px;
height: 10px;
background: var(--accent);
border-radius: 50%;
box-shadow: 0 0 15px var(--accent);
animation: dotPulse 1.5s ease-in-out infinite;
position: relative;
}

.status-indicator .dot::after {
content: "";
position: absolute;
top: 50%;
left: 50%;
width: 25px;
height: 25px;
background: radial-gradient(circle, var(--accent), transparent);
border-radius: 50%;
transform: translate(-50%, -50%);
animation: dotRipple 2s ease-in-out infinite;
}

@keyframes dotRipple {
0%, 100% {
opacity: 0.5;
transform: translate(-50%, -50%) scale(1);
}
50% {
opacity: 0;
transform: translate(-50%, -50%) scale(2.5);
}
}

@keyframes dotPulse {
0%, 100% { opacity: 1; transform: scale(1); }
50% { opacity: 0.7; transform: scale(1.3); }
}

/* Ultimate Navigation */
.robot-nav {
flex: 1;
overflow-y: auto;
padding: 25px 0;
scrollbar-width: thin;
scrollbar-color: var(--border-color) transparent;
}

.robot-nav::-webkit-scrollbar {
width: 6px;
}

.robot-nav::-webkit-scrollbar-track {
background: transparent;
}

.robot-nav::-webkit-scrollbar-thumb {
background: linear-gradient(135deg, var(--primary), var(--secondary));
border-radius: 3px;
}

.robot-nav ul {
list-style: none;
padding: 0 20px;
}

.robot-nav ul li {
margin-bottom: 15px;
position: relative;
}

.robot-nav ul li::before {
content: "";
position: absolute;
left: 0;
top: 50%;
transform: translateY(-50%);
width: 4px;
height: 0;
background: linear-gradient(180deg, var(--primary), var(--secondary));
transition: height 0.3s ease;
border-radius: 2px;
box-shadow: 0 0 15px var(--primary);
}

.robot-nav ul li:hover::before,
.robot-nav ul li.active::before {
height: 70%;
}

.robot-nav ul li a {
position: relative;
display: flex;
align-items: center;
gap: 15px;
padding: 18px 20px;
color: var(--text-secondary);
text-decoration: none;
font-size: 1rem;
font-weight: 500;
border-radius: 15px;
transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
overflow: hidden;
background: var(--glass);
border: 1px solid transparent;
}

.robot-nav ul li a::before {
content: "";
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg,
transparent,
rgba(0, 255, 255, 0.1),
transparent);
transition: left 0.5s ease;
}

.robot-nav ul li a:hover::before {
left: 100%;
}

.robot-nav ul li a i {
font-size: 1.3rem;
min-width: 28px;
text-align: center;
transition: all 0.3s ease;
color: var(--primary);
position: relative;
}

.robot-nav ul li a i::after {
content: "";
position: absolute;
top: 50%;
left: 50%;
width: 100%;
height: 100%;
background: radial-gradient(circle, var(--primary), transparent);
border-radius: 50%;
transform: translate(-50%, -50%) scale(0);
transition: transform 0.3s ease;
}

.robot-nav ul li a:hover i::after {
transform: translate(-50%, -50%) scale(2.5);
opacity: 0;
}

.robot-nav ul li a span {
position: relative;
z-index: 1;
transition: color 0.3s ease;
}

.robot-nav ul li a:hover {
background: rgba(0, 255, 255, 0.15);
color: var(--text-primary);
transform: translateX(8px);
border: 1px solid rgba(0, 255, 255, 0.3);
box-shadow: 0 8px 25px rgba(0, 255, 255, 0.2);
}

.robot-nav ul li a:hover i {
color: var(--accent);
transform: scale(1.2) rotate(10deg);
}

.robot-nav ul li.active a {
background: linear-gradient(135deg,
rgba(0, 255, 255, 0.25),
rgba(255, 0, 255, 0.15));
color: var(--text-primary);
border: 1px solid var(--border-color);
box-shadow: 0 8px 30px rgba(0, 255, 255, 0.3);
}

.robot-nav ul li.active a i {
color: var(--accent);
}

/* Ultimate Sidebar Footer */
.robot-footer {
padding: 25px 20px;
text-align: center;
border-top: 1px solid rgba(255, 255, 255, 0.1);
background: linear-gradient(135deg, var(--glass), transparent);
}

.robot-footer .sys-line {
font-size: 0.8rem;
color: var(--text-muted);
margin-bottom: 15px;
font-family: 'Space Mono', monospace;
animation: sysLineGlow 2s ease-in-out infinite;
}

@keyframes sysLineGlow {
0%, 100% { opacity: 0.7; }
50% { opacity: 1; }
}

.robot-footer .sys-line span {
color: var(--secondary);
font-weight: 700;
text-shadow: 0 0 10px var(--secondary);
}

.core-pulse {
width: 16px;
height: 16px;
background: radial-gradient(circle, var(--primary), var(--primary-dark));
border-radius: 50%;
margin: 0 auto;
box-shadow: 0 0 30px var(--primary);
animation: corePulse 2s ease-in-out infinite;
position: relative;
}

.core-pulse::before,
.core-pulse::after {
content: "";
position: absolute;
top: 50%;
left: 50%;
width: 100%;
height: 100%;
background: radial-gradient(circle, var(--accent), transparent);
border-radius: 50%;
transform: translate(-50%, -50%);
}

.core-pulse::before {
animation: coreRipple 2s ease-in-out infinite;
}

.core-pulse::after {
animation: coreRipple 2s ease-in-out infinite 0.5s;
}

@keyframes coreRipple {
0% {
opacity: 0.5;
transform: translate(-50%, -50%) scale(1);
}
100% {
opacity: 0;
transform: translate(-50%, -50%) scale(4);
}
}

@keyframes corePulse {
0%, 100% {
transform: scale(1);
box-shadow: 0 0 30px var(--primary);
}
50% {
transform: scale(1.4);
box-shadow: 0 0 50px var(--primary), 0 0 80px rgba(0, 255, 255, 0.5);
}
}

/* =============== ULTIMATE MAIN CONTENT =============== */
.konten-utama {
flex: 1;
padding: 40px;
display: flex;
flex-direction: column;
align-items: center;
position: relative;
overflow-y: auto;
min-height: 100vh;
transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Ultimate Header Section */
.header {
width: 100%;
max-width: 1400px;
margin-bottom: 50px;
position: relative;
}

.header-animasi {
position: relative;
height: 160px;
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
margin-bottom: 40px;
overflow: hidden;
}

.header-animasi::before {
content: "";
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 3px;
background: linear-gradient(90deg,
transparent,
var(--primary),
var(--secondary),
var(--accent),
transparent);
animation: scanHeader 3s linear infinite;
box-shadow: 0 0 20px var(--primary);
}

.header-animasi::after {
content: "";
position: absolute;
bottom: 0;
right: -100%;
width: 100%;
height: 3px;
background: linear-gradient(90deg,
transparent,
var(--accent),
var(--secondary),
var(--primary),
transparent);
animation: scanHeader 3s linear infinite reverse;
box-shadow: 0 0 20px var(--secondary);
}

@keyframes scanHeader {
0% { left: -100%; }
100% { left: 100%; }
}

#teksSelamatDatang {
font-family: 'Orbitron', monospace;
font-size: 3.5rem;
font-weight: 700;
background: linear-gradient(135deg, var(--primary), var(--accent), var(--secondary));
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
animation: textGlow 2s ease-in-out infinite alternate;
letter-spacing: 4px;
text-transform: uppercase;
position: relative;
z-index: 1;
}

#teksSelamatDatang::before,
#teksSelamatDatang::after {
content: "";
position: absolute;
width: 100px;
height: 4px;
background: linear-gradient(90deg, var(--primary), var(--secondary));
top: 50%;
animation: sideLines 2s ease-in-out infinite;
box-shadow: 0 0 20px var(--primary);
}

#teksSelamatDatang::before {
left: -120px;
}

#teksSelamatDatang::after {
right: -120px;
}

@keyframes sideLines {
0%, 100% {
opacity: 0.3;
width: 60px;
transform: translateY(-50%) scaleX(0.8);
}
50% {
opacity: 1;
width: 100px;
transform: translateY(-50%) scaleX(1);
}
}

@keyframes textGlow {
0% {
filter: brightness(1) drop-shadow(0 0 20px rgba(0, 255, 255, 0.5));
transform: translateY(0);
}
100% {
filter: brightness(1.4) drop-shadow(0 0 40px rgba(0, 255, 255, 0.8));
transform: translateY(-5px);
}
}

/* =============== ENHANCED SEARCH MENU =============== */
.search-menu {
width: 100%;
max-width: 900px;
margin: 0 auto 30px;
position: relative;
}

.search-container {
position: relative;
display: flex;
gap: 20px;
align-items: center;
background: linear-gradient(135deg, var(--panel), var(--panel-light));
border: 1px solid var(--border-color);
border-radius: 50px;
padding: 5px;
box-shadow: 
inset 0 2px 15px rgba(0, 0, 0, 0.3),
0 10px 40px rgba(0, 0, 0, 0.2),
0 0 60px rgba(0, 255, 255, 0.1);
overflow: hidden;
}

.search-container::before {
content: "";
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
animation: searchScan 3s linear infinite;
}

@keyframes searchScan {
0% { left: -100%; }
100% { left: 100%; }
}

.search-input-wrapper {
flex: 1;
position: relative;
display: flex;
align-items: center;
}

#kotakPencarian {
width: 100%;
padding: 18px 25px 18px 60px;
border: none;
background: transparent;
color: var(--text-primary);
font-family: 'Space Mono', monospace;
font-size: 18px;
outline: none;
transition: all 0.3s ease;
}

#kotakPencarian::placeholder {
color: var(--text-muted);
font-style: italic;
}

#kotakPencarian:focus {
color: var(--primary);
}

.search-icon {
position: absolute;
left: 20px;
top: 50%;
transform: translateY(-50%);
color: var(--text-muted);
font-size: 1.3rem;
transition: all 0.3s ease;
}

#kotakPencarian:focus ~ .search-icon {
color: var(--primary);
transform: translateY(-50%) scale(1.1);
}

.search-voice-btn {
position: absolute;
right: 50px;
top: 50%;
transform: translateY(-50%);
width: 36px;
height: 36px;
display: flex;
align-items: center;
justify-content: center;
color: var(--text-muted);
cursor: pointer;
border-radius: 50%;
transition: all 0.3s ease;
}

.search-voice-btn:hover {
background: rgba(0, 255, 255, 0.1);
color: var(--primary);
}

.search-clear-btn {
position: absolute;
right: 15px;
top: 50%;
transform: translateY(-50%);
width: 30px;
height: 30px;
display: flex;
align-items: center;
justify-content: center;
color: var(--text-muted);
cursor: pointer;
border-radius: 50%;
opacity: 0;
visibility: hidden;
transition: all 0.3s ease;
}

.search-clear-btn.visible {
opacity: 1;
visibility: visible;
}

.search-clear-btn:hover {
background: rgba(255, 51, 102, 0.1);
color: var(--danger);
}

/* 搜索过滤器标签 */
.search-filters {
display: flex;
gap: 10px;
padding: 0 15px;
}

.filter-tag {
display: flex;
align-items: center;
gap: 8px;
padding: 10px 15px;
background: rgba(0, 255, 255, 0.05);
border: 1px solid rgba(0, 255, 255, 0.1);
border-radius: 20px;
color: var(--text-secondary);
font-size: 0.9rem;
cursor: pointer;
transition: all 0.3s ease;
position: relative;
overflow: hidden;
}

.filter-tag::before {
content: "";
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.2), transparent);
transition: left 0.5s ease;
}

.filter-tag:hover::before {
left: 100%;
}

.filter-tag:hover {
background: rgba(0, 255, 255, 0.1);
border-color: var(--primary);
color: var(--text-primary);
transform: translateY(-2px);
}

.filter-tag.active {
background: rgba(0, 255, 255, 0.2);
border-color: var(--primary);
color: var(--primary);
box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
}

/* 高级搜索按钮 */
.advanced-search-btn {
display: flex;
align-items: center;
gap: 8px;
padding: 12px 20px;
background: linear-gradient(135deg, var(--primary), var(--secondary));
border: none;
border-radius: 25px;
color: var(--dark);
font-weight: 600;
font-size: 0.95rem;
cursor: pointer;
transition: all 0.3s ease;
box-shadow: 0 5px 20px rgba(0, 255, 255, 0.3);
}

.advanced-search-btn:hover {
transform: translateY(-3px);
box-shadow: 0 10px 30px rgba(0, 255, 255, 0.5);
}

/* 增强版搜索建议 */
.search-suggestions-enhanced {
position: absolute;
top: calc(100% + 10px);
left: 0;
width: 100%;
max-height: 400px;
background: var(--panel);
border: 1px solid var(--border-color);
border-radius: 15px;
box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
overflow: hidden;
z-index: 1000;
display: none;
animation: slideDown 0.3s ease;
}

@keyframes slideDown {
from {
opacity: 0;
transform: translateY(-20px);
}
to {
opacity: 1;
transform: translateY(0);
}
}

.search-suggestions-enhanced.active {
display: block;
}

.suggestions-header {
display: flex;
justify-content: space-between;
align-items: center;
padding: 15px 20px;
background: linear-gradient(135deg, var(--glass), transparent);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.suggestions-title {
font-family: 'Orbitron', monospace;
font-size: 1.1rem;
font-weight: 600;
color: var(--primary);
}

.suggestions-close {
width: 30px;
height: 30px;
display: flex;
align-items: center;
justify-content: center;
color: var(--text-muted);
cursor: pointer;
border-radius: 50%;
transition: all 0.3s ease;
}

.suggestions-close:hover {
background: rgba(255, 51, 102, 0.1);
color: var(--danger);
}

.suggestions-content {
padding: 10px 0;
max-height: 350px;
overflow-y: auto;
}

.suggestions-content::-webkit-scrollbar {
width: 6px;
}

.suggestions-content::-webkit-scrollbar-track {
background: transparent;
}

.suggestions-content::-webkit-scrollbar-thumb {
background: linear-gradient(135deg, var(--primary), var(--secondary));
border-radius: 3px;
}

.suggestion-group {
margin-bottom: 15px;
}

.suggestion-group-header {
display: flex;
align-items: center;
gap: 10px;
padding: 10px 20px;
color: var(--text-secondary);
font-size: 0.9rem;
font-weight: 600;
text-transform: uppercase;
letter-spacing: 1px;
}

.suggestion-group-header i {
color: var(--primary);
}

.suggestion-items {
display: flex;
flex-direction: column;
}

.suggestion-item {
display: flex;
align-items: center;
gap: 12px;
padding: 12px 20px;
color: var(--text-secondary);
cursor: pointer;
transition: all 0.2s ease;
position: relative;
}

.suggestion-item::before {
content: "";
position: absolute;
left: 0;
top: 0;
height: 100%;
width: 3px;
background: var(--primary);
transform: scaleY(0);
transition: transform 0.2s ease;
}

.suggestion-item:hover {
background: rgba(0, 255, 255, 0.1);
color: var(--text-primary);
}

.suggestion-item:hover::before {
transform: scaleY(1);
}

.suggestion-item i {
font-size: 1rem;
color: var(--primary);
}

.suggestion-item span {
flex: 1;
}

.suggestion-count {
background: var(--primary);
color: var(--dark);
padding: 2px 8px;
border-radius: 10px;
font-size: 0.8rem;
font-weight: 600;
}

/* 高级搜索面板 */
.advanced-search-panel {
position: absolute;
top: calc(100% + 10px);
left: 0;
width: 100%;
background: var(--panel);
border: 1px solid var(--border-color);
border-radius: 15px;
box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
z-index: 1000;
display: none;
animation: slideDown 0.3s ease;
}

.advanced-search-panel.active {
display: block;
}

.panel-header {
display: flex;
justify-content: space-between;
align-items: center;
padding: 20px;
background: linear-gradient(135deg, var(--glass), transparent);
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.panel-header h3 {
font-family: 'Orbitron', monospace;
font-size: 1.3rem;
font-weight: 600;
color: var(--primary);
margin: 0;
}

.panel-close {
width: 30px;
height: 30px;
display: flex;
align-items: center;
justify-content: center;
color: var(--text-muted);
cursor: pointer;
border-radius: 50%;
transition: all 0.3s ease;
}

.panel-close:hover {
background: rgba(255, 51, 102, 0.1);
color: var(--danger);
}

.panel-content {
padding: 20px;
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 20px;
}

.search-field {
display: flex;
flex-direction: column;
gap: 8px;
}

.search-field label {
color: var(--text-secondary);
font-size: 0.9rem;
font-weight: 600;
text-transform: uppercase;
letter-spacing: 1px;
}

.search-field input,
.search-field select {
padding: 12px 15px;
background: rgba(0, 255, 255, 0.05);
border: 1px solid rgba(0, 255, 255, 0.1);
border-radius: 10px;
color: var(--text-primary);
font-family: 'Exo 2', sans-serif;
font-size: 1rem;
outline: none;
transition: all 0.3s ease;
}

.search-field input:focus,
.search-field select:focus {
border-color: var(--primary);
background: rgba(0, 255, 255, 0.1);
box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
}

.date-range {
display: flex;
align-items: center;
gap: 10px;
}

.date-range input {
flex: 1;
}

.date-range span {
color: var(--text-muted);
}

.checkbox-group {
display: flex;
flex-direction: column;
gap: 10px;
}

.checkbox-label {
display: flex;
align-items: center;
gap: 10px;
cursor: pointer;
position: relative;
}

.checkbox-label input[type="checkbox"] {
position: absolute;
opacity: 0;
cursor: pointer;
height: 0;
width: 0;
}

.checkmark {
height: 20px;
width: 20px;
background-color: rgba(0, 255, 255, 0.05);
border: 1px solid rgba(0, 255, 255, 0.2);
border-radius: 4px;
transition: all 0.3s ease;
}

.checkbox-label:hover input ~ .checkmark {
background-color: rgba(0, 255, 255, 0.1);
}

.checkbox-label input:checked ~ .checkmark {
background-color: var(--primary);
border-color: var(--primary);
}

.checkmark:after {
content: "";
position: absolute;
display: none;
left: 7px;
top: 3px;
width: 5px;
height: 10px;
border: solid white;
border-width: 0 3px 3px 0;
transform: rotate(45deg);
}

.checkbox-label input:checked ~ .checkmark:after {
display: block;
}

.search-actions {
grid-column: 1 / -1;
display: flex;
justify-content: flex-end;
gap: 15px;
margin-top: 10px;
}

.search-btn-reset,
.search-btn-apply {
display: flex;
align-items: center;
gap: 8px;
padding: 12px 20px;
border: none;
border-radius: 10px;
font-weight: 600;
font-size: 0.95rem;
cursor: pointer;
transition: all 0.3s ease;
}

.search-btn-reset {
background: rgba(255, 255, 255, 0.1);
color: var(--text-secondary);
}

.search-btn-reset:hover {
background: rgba(255, 255, 255, 0.2);
color: var(--text-primary);
}

.search-btn-apply {
background: linear-gradient(135deg, var(--primary), var(--secondary));
color: var(--dark);
}

.search-btn-apply:hover {
transform: translateY(-3px);
box-shadow: 0 10px 30px rgba(0, 255, 255, 0.5);
}

/* =============== ULTIMATE STATS CARDS =============== */
.stats-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
gap: 35px;
width: 100%;
max-width: 1400px;
margin: 40px 0;
}

.stat-card {
background: linear-gradient(135deg, var(--panel), var(--panel-light));
border: 1px solid var(--border-color);
border-radius: 25px;
padding: 35px;
text-align: center;
transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
position: relative;
overflow: hidden;
box-shadow: var(--shadow-card);
transform-style: preserve-3d;
perspective: 1000px;
}

.stat-card::before {
content: "";
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(135deg,
rgba(0, 255, 255, 0.05),
rgba(255, 0, 255, 0.05),
rgba(0, 255, 136, 0.05));
opacity: 0;
transition: opacity 0.3s ease;
}

.stat-card::after {
content: "";
position: absolute;
top: -50%;
left: -50%;
width: 200%;
height: 200%;
background: conic-gradient(
from 0deg,
transparent,
rgba(0, 255, 255, 0.1),
transparent,
rgba(255, 0, 255, 0.1),
transparent,
rgba(0, 255, 136, 0.1),
transparent
);
animation: cardHolographic 8s linear infinite;
opacity: 0;
transition: opacity 0.3s ease;
}

@keyframes cardHolographic {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}

.stat-card:hover::before {
opacity: 1;
}

.stat-card:hover::after {
opacity: 0.4;
}

.stat-card:hover {
transform: translateY(-15px) rotateX(8deg);
border-color: var(--primary);
box-shadow:
0 40px 80px rgba(0, 255, 255, 0.3),
0 20px 50px rgba(0, 0, 0, 0.4);
}

.stat-icon {
width: 100px;
height: 100px;
display: flex;
align-items: center;
justify-content: center;
background: linear-gradient(135deg,
rgba(0, 255, 255, 0.1),
rgba(255, 0, 255, 0.1));
border-radius: 25px;
margin: 0 auto 25px;
font-size: 3rem;
color: var(--primary);
transition: all 0.3s ease;
position: relative;
overflow: hidden;
}

.stat-icon::before {
content: "";
position: absolute;
top: 50%;
left: 50%;
width: 100%;
height: 100%;
background: radial-gradient(circle, var(--accent), transparent);
border-radius: 50%;
transform: translate(-50%, -50%) scale(0);
transition: transform 0.3s ease;
}

.stat-card:hover .stat-icon::before {
transform: translate(-50%, -50%) scale(3);
opacity: 0;
}

.stat-card:hover .stat-icon {
transform: scale(1.2) rotate(15deg);
color: var(--accent);
box-shadow: 0 0 50px rgba(0, 255, 136, 0.5);
}

.stat-content h3 {
font-size: 1.2rem;
font-weight: 600;
color: var(--text-secondary);
margin-bottom: 15px;
text-transform: uppercase;
letter-spacing: 2px;
}

.stat-content .stat-value {
font-size: 3.5rem;
font-weight: 800;
font-family: 'Orbitron', monospace;
color: var(--accent);
margin: 0;
text-shadow: 0 0 25px rgba(0, 255, 136, 0.5);
animation: valueGlow 2s ease-in-out infinite alternate;
}

@keyframes valueGlow {
0% {
filter: brightness(1);
transform: scale(1);
}
100% {
filter: brightness(1.3);
transform: scale(1.05);
}
}

.stat-content .stat-description {
font-size: 1rem;
color: var(--text-muted);
margin-top: 15px;
}

.connection-status {
display: flex;
align-items: center;
gap: 15px;
justify-content: center;
margin-top: 20px;
}

.status-indicator-small {
width: 18px;
height: 18px;
border-radius: 50%;
animation: statusBlink 2s ease-in-out infinite;
position: relative;
}

.status-indicator-small::after {
content: "";
position: absolute;
top: 50%;
left: 50%;
width: 30px;
height: 30px;
background: radial-gradient(circle, currentColor, transparent);
border-radius: 50%;
transform: translate(-50%, -50%);
animation: statusRipple 2s ease-in-out infinite;
}

@keyframes statusRipple {
0%, 100% {
opacity: 0.5;
transform: translate(-50%, -50%) scale(1);
}
50% {
opacity: 0;
transform: translate(-50%, -50%) scale(3);
}
}

.status-indicator-small.good {
background: var(--success);
box-shadow: 0 0 25px var(--success);
}

.status-indicator-medium {
background: var(--warning);
box-shadow: 0 0 25px var(--warning);
}

.status-indicator-bad {
background: var(--danger);
box-shadow: 0 0 25px var(--danger);
}

@keyframes statusBlink {
0%, 100% { opacity: 1; }
50% { opacity: 0.5; }
}

/* =============== ULTIMATE DATA TABLES =============== */
#data2 {
width: 100%;
max-width: 100%;
margin: 40px 0;
}

.table-container {
width: 100%;
overflow-x: auto;
border: 1px solid var(--border-color);
border-radius: 20px;
background: var(--panel);
box-shadow: var(--shadow-card);
position: relative;
overflow: hidden;
}

.table-container::before {
content: "";
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(135deg,
rgba(0, 255, 255, 0.02),
transparent);
pointer-events: none;
}

.table-header {
display: flex;
justify-content: space-between;
align-items: center;
padding: 30px;
border-bottom: 1px solid rgba(255, 255, 255, 0.1);
background: linear-gradient(135deg, var(--glass), transparent);
}

.table-title {
font-family: 'Orbitron', monospace;
font-size: 2rem;
font-weight: 700;
color: var(--primary);
text-shadow: 0 0 20px var(--primary);
}

.table-actions {
display: flex;
gap: 15px;
}

.table-copy-btn {
display: flex;
align-items: center;
gap: 10px;
padding: 15px 25px;
background: linear-gradient(135deg,
rgba(0, 255, 255, 0.1),
rgba(255, 0, 255, 0.05));
border: 1px solid var(--border-color);
border-radius: 15px;
color: var(--text-secondary);
font-size: 1rem;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
position: relative;
overflow: hidden;
}

.table-copy-btn::before {
content: "";
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg,
transparent,
rgba(255, 255, 255, 0.1),
transparent);
transition: left 0.5s ease;
}

.table-copy-btn:hover::before {
left: 100%;
}

.table-copy-btn:hover {
background: linear-gradient(135deg, var(--primary), var(--secondary));
color: white;
transform: translateY(-5px);
box-shadow: 0 15px 30px rgba(0, 255, 255, 0.4);
}

table {
width: 100%;
border-collapse: collapse;
background: var(--panel);
min-width: 900px;
border-radius: 20px;
overflow: hidden;
position: relative;
}

/* Ultimate header styling */
th {
background: linear-gradient(135deg,
rgba(0, 255, 255, 0.2),
rgba(0, 150, 255, 0.15));
color: var(--primary);
padding: 25px 20px;
text-align: left;
font-weight: 700;
font-family: 'Orbitron', monospace;
text-transform: uppercase;
letter-spacing: 2px;
border-bottom: 2px solid var(--border-color);
position: relative;
white-space: nowrap;
font-size: 1rem;
position: relative;
overflow: hidden;
}

th::before {
content: "";
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg,
transparent,
rgba(255, 255, 255, 0.1),
transparent);
animation: headerScan 4s linear infinite;
}

@keyframes headerScan {
0% { left: -100%; }
100% { left: 100%; }
}

th::after {
content: "";
position: absolute;
bottom: 0;
left: 0;
width: 100%;
height: 3px;
background: linear-gradient(90deg,
transparent,
var(--primary),
var(--secondary),
var(--accent),
transparent);
animation: headerGlow 3s ease-in-out infinite;
}

@keyframes headerGlow {
0%, 100% { opacity: 0.5; }
50% { opacity: 1; }
}

/* Ultimate cell styling */
td {
padding: 25px 20px;
color: var(--text-primary);
border-bottom: 1px solid rgba(255, 255, 255, 0.05);
transition: all 0.3s ease;
font-family: 'Exo 2', sans-serif;
word-wrap: break-word;
max-width: 500px;
vertical-align: top;
line-height: 1.6;
position: relative;
}

td::before {
content: "";
position: absolute;
left: 0;
top: 0;
width: 0;
height: 100%;
background: linear-gradient(90deg,
rgba(0, 255, 136, 0.1),
transparent);
transition: width 0.3s ease;
}

/* Ultimate row hover effect */
tr:hover td {
background: rgba(0, 255, 136, 0.08);
color: var(--text-primary);
transform: translateX(10px);
transition: all 0.3s ease;
}

tr:hover td::before {
width: 4px;
}

tr:last-child td {
border-bottom: none;
}

.kolom-pertanyaan {
text-align: left;
padding: 25px 20px;
background: rgba(0, 255, 255, 0.03);
border-left: 4px solid var(--primary);
font-weight: 600;
position: relative;
min-width: 300px;
line-height: 1.6;
}

.kolom-penyelesaian,
.kolom-jawaban {
text-align: left;
padding: 25px 20px;
line-height: 1.6;
font-family: 'Exo 2', sans-serif;
white-space: pre-wrap;
word-wrap: break-word;
min-width: 400px;
background: rgba(0, 255, 136, 0.03);
border-left: 4px solid var(--accent);
}

/* =============== ULTIMATE COPY BUTTON =============== */
.teks-copy {
display: inline-flex;
align-items: center;
gap: 10px;
padding: 15px 25px;
background: linear-gradient(135deg,
rgba(138, 43, 226, 0.2),
rgba(255, 0, 102, 0.2));
border: 1px solid var(--warning);
border-radius: 30px;
color: var(--text-primary);
font-size: 1rem;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
position: relative;
overflow: hidden;
}

.teks-copy::before {
content: "";
position: absolute;
top: 50%;
left: 50%;
width: 0;
height: 0;
background: rgba(255, 255, 255, 0.2);
border-radius: 50%;
transform: translate(-50%, -50%);
transition: width 0.3s ease, height 0.3s ease;
}

.teks-copy:hover::before {
width: 100%;
height: 100%;
}

.teks-copy:hover {
transform: translateY(-5px);
box-shadow: 0 15px 30px rgba(255, 170, 0, 0.4);
border-color: var(--accent);
}

.teks-copy.disalin {
background: linear-gradient(135deg,
rgba(0, 255, 0, 0.2),
rgba(0, 255, 136, 0.2));
border-color: var(--success);
color: var(--success);
}

/* Icon styling in table cells */
.kolom-pertanyaan i,
.kolom-penyelesaian i,
.kolom-jawaban i {
font-size: 1rem;
flex-shrink: 0;
margin-right: 12px;
margin-top: 4px;
animation: iconFloat 3s ease-in-out infinite;
}

@keyframes iconFloat {
0%, 100% { transform: translateY(0); }
50% { transform: translateY(-4px); }
}

/* =============== ULTIMATE NOT FOUND MESSAGE =============== */
#pesanTidakDitemukan {
display: none;
text-align: center;
padding: 80px 30px;
background: linear-gradient(135deg,
rgba(255, 0, 255, 0.1),
rgba(255, 0, 102, 0.05));
border: 2px dashed var(--secondary);
border-radius: 25px;
max-width: 700px;
margin: 80px auto;
animation: errorPulse 2s ease-in-out infinite;
position: relative;
overflow: hidden;
}

#pesanTidakDitemukan::before {
content: "";
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(45deg,
transparent,
rgba(255, 0, 255, 0.05),
transparent);
animation: errorScan 3s linear infinite;
}

@keyframes errorScan {
0% { transform: translateX(-100%); }
100% { transform: translateX(100%); }
}

#pesanTidakDitemukan i {
font-size: 4.5rem;
color: var(--secondary);
margin-bottom: 30px;
display: block;
animation: errorIcon 2s ease-in-out infinite;
}

@keyframes errorIcon {
0%, 100% { transform: scale(1); }
50% { transform: scale(1.2); }
}

#pesanTidakDitemukan strong {
font-size: 2.2rem;
color: var(--text-primary);
display: block;
margin-bottom: 15px;
font-family: 'Orbitron', monospace;
}

#pesanTidakDitemukan small {
color: var(--text-secondary);
font-size: 1.1rem;
}

@keyframes errorPulse {
0%, 100% {
box-shadow: 0 0 30px rgba(255, 0, 255, 0.2);
transform: scale(1);
}
50% {
box-shadow: 0 0 60px rgba(255, 0, 255, 0.4);
transform: scale(1.02);
}
}

/* =============== ULTIMATE LOADING SPINNER =============== */
.loading-spinner {
display: flex;
justify-content: center;
align-items: center;
height: 250px;
width: 100%;
}

.spinner {
width: 120px;
height: 120px;
border: 6px solid rgba(0, 255, 255, 0.2);
border-top: 6px solid var(--primary);
border-radius: 50%;
animation: spin 1s linear infinite;
position: relative;
box-shadow: 0 0 30px rgba(0, 255, 255, 0.3);
}

.spinner::before,
.spinner::after {
content: "";
position: absolute;
border-radius: 50%;
}

.spinner::before {
top: 15px;
left: 15px;
right: 15px;
bottom: 15px;
border: 4px solid rgba(255, 0, 255, 0.2);
border-bottom: 4px solid var(--secondary);
animation: spin 0.8s linear reverse infinite;
}

.spinner::after {
top: 30px;
left: 30px;
right: 30px;
bottom: 30px;
border: 3px solid rgba(0, 255, 136, 0.2);
border-top: 3px solid var(--accent);
animation: spin 0.6s linear infinite;
}

@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}

/* =============== ULTIMATE NOTIFICATION SYSTEM =============== */
.notification {
position: fixed;
top: 30px;
right: 30px;
padding: 25px 30px;
background: linear-gradient(135deg, var(--panel), var(--panel-light));
border: 1px solid var(--border-color);
border-radius: 15px;
color: var(--text-primary);
font-family: 'Exo 2', sans-serif;
z-index: 1000;
box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
display: flex;
align-items: center;
gap: 20px;
min-width: 350px;
animation: slideInRight 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.notification.success {
border-left: 4px solid var(--success);
box-shadow: 0 15px 50px rgba(0, 255, 0, 0.3);
}

.notification.error {
border-left: 4px solid var(--danger);
box-shadow: 0 15px 50px rgba(255, 51, 102, 0.3);
}

.notification.warning {
border-left: 4px solid var(--warning);
box-shadow: 0 15px 50px rgba(255, 170, 0, 0.3);
}

@keyframes slideInRight {
from {
transform: translateX(100%);
opacity: 0;
}
to {
transform: translateX(0);
opacity: 1;
}
}

@keyframes slideOutRight {
from {
transform: translateX(0);
opacity: 1;
}
to {
transform: translateX(100%);
opacity: 0;
}
}

/* =============== ULTIMATE RESPONSIVE DESIGN =============== */
@media (max-width: 1024px) {
.stats-grid {
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: 25px;
}
}

@media (max-width: 768px) {
body {
flex-direction: column;
}

.sidebar-future {
width: 100%;
height: auto;
flex-direction: row;
padding: 20px;
border-right: none;
border-bottom: 1px solid var(--border-color);
}

.sidebar-future.collapsed {
width: 100%;
height: auto;
}

.sidebar-toggle {
display: none;
}

.robot-header {
display: none;
}

.robot-nav {
flex: 1;
overflow-x: auto;
overflow-y: hidden;
padding: 15px 0;
}

.robot-nav ul {
display: flex;
flex-direction: row;
gap: 15px;
padding: 0 20px;
}

.robot-nav ul li a {
padding: 15px 20px;
min-width: 80px;
justify-content: center;
}

.robot-nav ul li a span {
display: none;
}

.robot-footer {
display: none;
}

.konten-utama {
padding: 25px 20px;
}

.header-animasi {
height: 120px;
margin-bottom: 30px;
}

#teksSelamatDatang {
font-size: 2.5rem;
}

#teksSelamatDatang::before,
#teksSelamatDatang::after {
display: none;
}

.search-menu {
max-width: 100%;
margin: 0 auto 20px;
}

.search-container {
flex-direction: column;
gap: 15px;
}

.search-filters {
width: 100%;
justify-content: center;
padding: 0;
}

.stats-grid {
grid-template-columns: 1fr;
gap: 20px;
}

.table-header {
flex-direction: column;
gap: 20px;
align-items: flex-start;
}

.table-actions {
width: 100%;
justify-content: space-between;
}
}

@media (max-width: 480px) {
.konten-utama {
padding: 20px 15px;
}

#teksSelamatDatang {
font-size: 2rem;
}

.stat-card {
padding: 30px 25px;
}

.stat-icon {
width: 80px;
height: 80px;
font-size: 2.5rem;
}

.stat-value {
font-size: 2.8rem;
}

th, td {
padding: 20px 15px;
font-size: 0.95rem;
}
}
</style>
</head>
<body>
<!-- ULTIMATE BACKGROUND -->
<div class="cyber-bg"></div>
<div class="particles" id="particles"></div>
<div class="grid-overlay"></div>
<div class="hex-pattern"></div>

<!-- ULTIMATE SIDEBAR -->
<div class="sidebar-future">
<button class="sidebar-toggle" onclick="toggleSidebar()">
<i class="fas fa-chevron-left"></i>
</button>

<div class="robot-header">
<h2 data-text="TOMMY HILFIGER">TOMMY HILFIGER</h2>
<div class="robot-subtitle">System Active</div>
<div class="status-indicator">
<span class="dot"></span>
<span class="status-text">Online</span>
</div>
</div>

<nav class="robot-nav">
<ul>
<li class="active"><a href="#" onclick="filterKategori('linknawala'); setActiveNav(this)">
<i class="fa-solid fa-link-slash"></i>
<span>Blocked Links</span>
</a></li>
</ul>
</nav>

<div class="robot-footer">
<div class="sys-line">SYS: <span>CALL ME TH</span></div>
<div class="core-pulse"></div>
</div>
</div>

<!-- ULTIMATE MAIN CONTENT -->
<div class="konten-utama">
<div class="header">
<div class="header-animasi">
<h1 id="teksSelamatDatang"></h1>
</div>

<!-- ENHANCED SEARCH MENU -->
<div class="search-menu">
<div class="search-container">
<div class="search-input-wrapper">
<i class="fas fa-search search-icon"></i>
<input type="text" placeholder="Search blocked links..." id="kotakPencarian" onkeyup="performSearch()" onfocus="showSearchSuggestions()" onblur="hideSearchSuggestions()">
<div class="search-voice-btn" title="Voice Search">
<i class="fas fa-microphone"></i>
</div>
<div class="search-clear-btn" id="searchClearBtn" onclick="clearSearch()" title="Clear Search">
<i class="fas fa-times"></i>
</div>
</div>

<!-- 搜索过滤器标签 -->
<div class="search-filters">
<div class="filter-tag active" data-filter="all" onclick="setFilter('all', this)">
<i class="fas fa-globe"></i>
<span>All</span>
</div>
<div class="filter-tag" data-filter="blocked" onclick="setFilter('blocked', this)">
<i class="fas fa-ban"></i>
<span>Blocked</span>
</div>
<div class="filter-tag" data-filter="recent" onclick="setFilter('recent', this)">
<i class="fas fa-clock"></i>
<span>Recent</span>
</div>
<div class="filter-tag" data-filter="popular" onclick="setFilter('popular', this)">
<i class="fas fa-fire"></i>
<span>Popular</span>
</div>
</div>

<!-- 高级搜索按钮 -->
<button class="advanced-search-btn" onclick="openAdvancedSearch()">
<i class="fas fa-sliders-h"></i>
<span>Advanced</span>
</button>
</div>

<!-- 增强版搜索建议 -->
<div class="search-suggestions-enhanced" id="searchSuggestionsEnhanced">
<div class="suggestions-header">
<div class="suggestions-title">Suggestions</div>
<div class="suggestions-close" onclick="hideSearchSuggestions()">
<i class="fas fa-times"></i>
</div>
</div>

<div class="suggestions-content">
<!-- 搜索历史 -->
<div class="suggestion-group" id="searchHistoryGroup">
<div class="suggestion-group-header">
<i class="fas fa-history"></i>
<span>Recent Searches</span>
</div>
<div class="suggestion-items" id="recentSearchItems">
<!-- 动态填充 -->
</div>
</div>

<!-- 热门搜索 -->
<div class="suggestion-group">
<div class="suggestion-group-header">
<i class="fas fa-fire"></i>
<span>Trending</span>
</div>
<div class="suggestion-items">
<div class="suggestion-item" onclick="selectSuggestion('social media')">
<i class="fas fa-hashtag"></i>
<span>social media</span>
<span class="suggestion-count">1.2k</span>
</div>
<div class="suggestion-item" onclick="selectSuggestion('gambling sites')">
<i class="fas fa-hashtag"></i>
<span>gambling sites</span>
<span class="suggestion-count">856</span>
</div>
<div class="suggestion-item" onclick="selectSuggestion('adult content')">
<i class="fas fa-hashtag"></i>
<span>adult content</span>
<span class="suggestion-count">742</span>
</div>
</div>
</div>

<!-- 相关建议 -->
<div class="suggestion-group" id="relatedSuggestionsGroup" style="display: none;">
<div class="suggestion-group-header">
<i class="fas fa-search"></i>
<span>Related</span>
</div>
<div class="suggestion-items" id="relatedSuggestionsItems">
<!-- 动态填充 -->
</div>
</div>
</div>
</div>

<!-- 高级搜索面板 -->
<div class="advanced-search-panel" id="advancedSearchPanel">
<div class="panel-header">
<h3>Advanced Search</h3>
<div class="panel-close" onclick="closeAdvancedSearch()">
<i class="fas fa-times"></i>
</div>
</div>

<div class="panel-content">
<div class="search-field">
<label>Domain</label>
<input type="text" placeholder="e.g. example.com" id="domainSearch">
</div>

<div class="search-field">
<label>Category</label>
<select id="categorySearch">
<option value="">All Categories</option>
<option value="social">Social Media</option>
<option value="gambling">Gambling</option>
<option value="adult">Adult Content</option>
<option value="malware">Malware</option>
<option value="phishing">Phishing</option>
</select>
</div>

<div class="search-field">
<label>Date Range</label>
<div class="date-range">
<input type="date" id="dateFrom">
<span>to</span>
<input type="date" id="dateTo">
</div>
</div>

<div class="search-field">
<label>Status</label>
<div class="checkbox-group">
<label class="checkbox-label">
<input type="checkbox" id="blockedStatus" checked>
<span class="checkmark"></span>
Blocked
</label>
<label class="checkbox-label">
<input type="checkbox" id="whitelistedStatus">
<span class="checkmark"></span>
Whitelisted
</label>
</div>
</div>

<div class="search-actions">
<button class="search-btn-reset" onclick="resetAdvancedSearch()">
<i class="fas fa-undo"></i>
Reset
</button>
<button class="search-btn-apply" onclick="applyAdvancedSearch()">
<i class="fas fa-search"></i>
Apply
</button>
</div>
</div>
</div>
</div>

<!-- ULTIMATE STATS CARDS -->
<div class="stats-grid">
<div class="stat-card">
<div class="stat-icon">
<i class="fas fa-ban"></i>
</div>
<div class="stat-content">
<h3>BLOCKED BY NAWALA</h3>
<p class="stat-value" id="blocked-links">181</p>
<p class="stat-description">Links currently blocked</p>
</div>
</div>

<div class="stat-card">
<div class="stat-icon">
<i class="fas fa-clock"></i>
</div>
<div class="stat-content">
<h3>LAST UPDATE</h3>
<p class="stat-value" id="last-update">-</p>
<p class="stat-description">Data refresh time</p>
</div>
</div>

<div class="stat-card">
<div class="stat-icon">
<i class="fas fa-shield-alt"></i>
</div>
<div class="stat-content">
<h3>SECURITY STATUS</h3>
<div class="connection-status">
<span class="status-indicator-small good"></span>
<span id="connection-status">Active</span>
</div>
<p class="stat-description">System protection active</p>
</div>
</div>
</div>
</div>

<!-- ULTIMATE LOADING SPINNER -->
<div id="loadingSpinner" class="loading-spinner" style="display: none;">
<div class="spinner"></div>
</div>

<!-- ULTIMATE DATA TABLES -->
<div id="data2"></div>

<!-- ULTIMATE NOT FOUND MESSAGE -->
<div id="pesanTidakDitemukan">
<i class="fas fa-exclamation-triangle"></i>
<strong>DATA NOT FOUND</strong>
<small>Try again with different keywords</small>
</div>
</div>

<script>
// =============== GLOBAL VARIABLES ===============
let kategoriSekarang = 'linknawala';
let semuaData = {
linknawala: []
};
let sedangMencari = false;
let sidebarCollapsed = false;
let currentSearchFilter = 'all';
let searchHistory = [];
let recentSearches = [];

// Google Apps Script URL - SESUAIKAN DENGAN SCRIPT ANDA
const GAS_URL = 'https://script.google.com/macros/s/AKfycbwkHrgiGlxFkJHZwp-bMaRCezwCSPAdV-FyUHkX9cAEWu/exec';

// =============== INITIALIZATION ===============
window.onload = function() {
createParticles();
filterKategori('linknawala');
mulaiAnimasiTeksSelamatDatang();
muatSemuaData();
updateStatsWithRealData();
loadSearchHistory();

// 初始化搜索菜单
const searchInput = document.getElementById('kotakPencarian');
searchInput.addEventListener('input', function() {
const clearBtn = document.getElementById('searchClearBtn');
if (this.value.trim()) {
clearBtn.classList.add('visible');
} else {
clearBtn.classList.remove('visible');
}
});
};

// =============== ULTIMATE PARTICLE SYSTEM ===============
function createParticles() {
const particlesContainer = document.getElementById('particles');
const particleCount = 80;

for (let i = 0; i < particleCount; i++) {
const particle = document.createElement('div');
particle.className = 'particle';
particle.style.left = Math.random() * 100 + '%';
particle.style.animationDelay = Math.random() * 25 + 's';
particle.style.animationDuration = (25 + Math.random() * 15) + 's';

// Random colors with enhanced effects
const colors = ['var(--primary)', 'var(--secondary)', 'var(--accent)', 'var(--warning)', 'var(--success)'];
const color = colors[Math.floor(Math.random() * colors.length)];
particle.style.background = color;
particle.style.boxShadow = `0 0 20px ${color}`;

particlesContainer.appendChild(particle);
}
}

// =============== ENHANCED SEARCH MENU FUNCTIONS ===============
// 执行搜索
function performSearch() {
const query = document.getElementById('kotakPencarian').value.toLowerCase().trim();
  
if (query.length < 2) {
// 如果查询太短，显示所有数据
filterKategori('linknawala');
return;
}
  
// 添加到搜索历史
if (query.length > 3 && !searchHistory.includes(query)) {
searchHistory.unshift(query);
if (searchHistory.length > 10) {
searchHistory = searchHistory.slice(0, 10);
}
localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
updateSearchHistory();
}
  
// 执行实际搜索
cariTabel();
}

// 清除搜索
function clearSearch() {
document.getElementById('kotakPencarian').value = '';
document.getElementById('searchClearBtn').classList.remove('visible');
filterKategori('linknawala');
}

// 设置过滤器
function setFilter(filter, element) {
currentSearchFilter = filter;
document.querySelectorAll('.filter-tag').forEach(tag => {
tag.classList.remove('active');
});
element.classList.add('active');
  
// 应用过滤器
performSearch();
}

// 显示搜索建议
function showSearchSuggestions() {
const suggestions = document.getElementById('searchSuggestionsEnhanced');
const query = document.getElementById('kotakPencarian').value.toLowerCase().trim();
  
// 显示相关建议
if (query.length > 0) {
document.getElementById('relatedSuggestionsGroup').style.display = 'block';
updateRelatedSuggestions(query);
} else {
document.getElementById('relatedSuggestionsGroup').style.display = 'none';
}
  
suggestions.classList.add('active');
}

// 隐藏搜索建议
function hideSearchSuggestions() {
setTimeout(() => {
document.getElementById('searchSuggestionsEnhanced').classList.remove('active');
}, 200);
}

// 选择建议
function selectSuggestion(query) {
document.getElementById('kotakPencarian').value = query;
hideSearchSuggestions();
performSearch();
}

// 更新搜索历史
function updateSearchHistory() {
const historyContainer = document.getElementById('recentSearchItems');
  
if (searchHistory.length === 0) {
historyContainer.innerHTML = '<div class="suggestion-item">No recent searches</div>';
return;
}
  
historyContainer.innerHTML = searchHistory.map(search => `
<div class="suggestion-item" onclick="selectSuggestion('${search}')">
<i class="fas fa-history"></i>
<span>${search}</span>
</div>
`).join('');
}

// 更新相关建议
function updateRelatedSuggestions(query) {
const relatedContainer = document.getElementById('relatedSuggestionsItems');
  
// 这里应该根据查询生成相关建议
// 为了演示，我们使用一些静态建议
const relatedSuggestions = [
{ text: `${query} social media`, icon: 'fa-share-alt' },
{ text: `${query} blocked`, icon: 'fa-ban' },
{ text: `${query} recent`, icon: 'fa-clock' }
];
  
relatedContainer.innerHTML = relatedSuggestions.map(suggestion => `
<div class="suggestion-item" onclick="selectSuggestion('${suggestion.text}')">
<i class="fas ${suggestion.icon}"></i>
<span>${suggestion.text}</span>
</div>
`).join('');
}

// 打开高级搜索
function openAdvancedSearch() {
document.getElementById('advancedSearchPanel').classList.add('active');
document.getElementById('searchSuggestionsEnhanced').classList.remove('active');
}

// 关闭高级搜索
function closeAdvancedSearch() {
document.getElementById('advancedSearchPanel').classList.remove('active');
}

// 重置高级搜索
function resetAdvancedSearch() {
document.getElementById('domainSearch').value = '';
document.getElementById('categorySearch').value = '';
document.getElementById('dateFrom').value = '';
document.getElementById('dateTo').value = '';
document.getElementById('blockedStatus').checked = true;
document.getElementById('whitelistedStatus').checked = false;
}

// 应用高级搜索
function applyAdvancedSearch() {
const domain = document.getElementById('domainSearch').value.toLowerCase().trim();
const category = document.getElementById('categorySearch').value;
const dateFrom = document.getElementById('dateFrom').value;
const dateTo = document.getElementById('dateTo').value;
const blockedStatus = document.getElementById('blockedStatus').checked;
const whitelistedStatus = document.getElementById('whitelistedStatus').checked;
  
// 构建高级搜索查询
let advancedQuery = document.getElementById('kotakPencarian').value.toLowerCase().trim();
  
if (domain) {
advancedQuery += ` domain:${domain}`;
}
  
if (category) {
advancedQuery += ` category:${category}`;
}
  
if (dateFrom) {
advancedQuery += ` from:${dateFrom}`;
}
  
if (dateTo) {
advancedQuery += ` to:${dateTo}`;
}
  
if (blockedStatus && !whitelistedStatus) {
advancedQuery += ' status:blocked';
} else if (!blockedStatus && whitelistedStatus) {
advancedQuery += ' status:whitelisted';
}
  
// 应用高级搜索
document.getElementById('kotakPencarian').value = advancedQuery;
closeAdvancedSearch();
performSearch();
  
// 显示通知
tampilkanNotifikasi("Advanced search applied", "sukses");
}

// =============== SEARCH MENU FUNCTIONS ===============
function showSearchSuggestions() {
const suggestions = document.getElementById('searchSuggestionsEnhanced');
const input = document.getElementById('kotakPencarian');
const query = input.value.toLowerCase().trim();

if (query.length > 0) {
// Show recent searches
const filteredRecent = recentSearches.filter(search => 
search.toLowerCase().includes(query)
).slice(0, 5);

if (filteredRecent.length > 0) {
const recentSearchItems = document.getElementById('recentSearchItems');
recentSearchItems.innerHTML = filteredRecent.map(search => `
<div class="suggestion-item" onclick="selectSuggestion('${search}')">
<i class="fas fa-history suggestion-icon"></i>
<span class="suggestion-text">${search}</span>
</div>
`).join('');
}
suggestions.classList.add('active');
}
}

function hideSearchSuggestions() {
setTimeout(() => {
document.getElementById('searchSuggestionsEnhanced').classList.remove('active');
}, 200);
}

function selectSuggestion(query) {
document.getElementById('kotakPencarian').value = query;
document.getElementById('searchSuggestionsEnhanced').classList.remove('active');
cariTabel();
}

function setSearchFilter(filter, element) {
currentSearchFilter = filter;
document.querySelectorAll('.filter-tag').forEach(el => el.classList.remove('active'));
element.classList.add('active');
}

function performAdvancedSearch() {
const query = document.getElementById('kotakPencarian').value;
if (query.trim()) {
// Add to search history
if (!recentSearches.includes(query)) {
recentSearches.unshift(query);
if (recentSearches.length > 10) {
recentSearches = recentSearches.slice(0, 10);
}
saveSearchHistory();
}
tampilkanNotifikasi("Advanced search initiated for: " + query, "info");
}
}

function loadSearchHistory() {
const saved = localStorage.getItem('searchHistory');
if (saved) {
recentSearches = JSON.parse(saved);
}
}

function saveSearchHistory() {
localStorage.setItem('searchHistory', JSON.stringify(recentSearches));
}

// =============== DATA LOADING FROM GOOGLE APPS SCRIPT ===============
async function muatSemuaData() {
tampilkanLoading(true);

try {
// Load data dari Google Apps Script
const response = await fetch(GAS_URL);

if (!response.ok) {
throw new Error(`HTTP ${response.status}: ${response.statusText}`);
}

const data = await response.json();

if (data.success) {
// Format data sesuai dengan struktur yang diharapkan
semuaData = {
linknawala: data.linknawala || []
};

console.log('Data loaded successfully:', semuaData);

// Render tables untuk blocked links
renderAllTables();

// Update stats
updateStatsWithRealData();

tampilkanNotifikasi("Blocked links data loaded successfully!", "sukses");
} else {
throw new Error(data.error || 'Unknown error from server');
}

} catch (error) {
console.error("Error loading data:", error);
tampilkanNotifikasi("Failed to load data: " + error.message, "error");

// Fallback: coba load data dari CSV jika GAS gagal
muatDataFallback();
} finally {
tampilkanLoading(false);
}
}

function renderAllTables() {
// Render table untuk blocked links
const kategori = 'linknawala';
const data = semuaData[kategori];

if (data && data.length > 0) {
document.getElementById('data2').innerHTML = buatTabel(data, kategori);
} else {
document.getElementById('data2').innerHTML = buatPesanError(kategori, new Error('No data available'));
}
}

function updateStatsWithRealData() {
// Update dengan data nyata dari gambar
document.getElementById('blocked-links').textContent = '181';
document.getElementById('last-update').textContent = new Date().toLocaleTimeString();
document.getElementById('connection-status').textContent = 'Active';
}

// Fallback method jika GAS tidak bekerja
async function muatDataFallback() {
try {
// Coba load dari CSV export
const gid = '1202906531';

try {
const data = await ambilDataSheetDenganTimeout(gid, 5000);
semuaData['linknawala'] = data;
} catch (error) {
console.error(`Failed to load linknawala:`, error);
semuaData['linknawala'] = [];
}

renderAllTables();
updateStatsWithRealData();
tampilkanNotifikasi("Data loaded with fallback method", "peringatan");

} catch (error) {
console.error("Fallback also failed:", error);
}
}

// Helper function untuk load data dari sheet (fallback)
async function ambilDataSheetDenganTimeout(gid, timeout = 5000) {
return new Promise((resolve, reject) => {
const timeoutId = setTimeout(() => {
reject(new Error(`Request timeout for GID: ${gid}`));
}, timeout);

// Fallback method menggunakan CSV export
const SPREADSHEET_ID = '19AodSFSw4shpSZVZ4I-_sD91eU1HPITMeg4cwLiEV1c';
const csvUrl = `https://docs.google.com/spreadsheets/d/${SPREADSHEET_ID}/export?format=csv&gid=${gid}`;

fetch(csvUrl)
.then(response => {
clearTimeout(timeoutId);
if (!response.ok) throw new Error(`HTTP ${response.status}`);
return response.text();
})
.then(csvText => {
const data = parseCSV(csvText);
resolve(data);
})
.catch(error => {
clearTimeout(timeoutId);
reject(error);
});
});
}

// Simple CSV parsing (fallback)
function parseCSV(csvText) {
if (!csvText || csvText.trim() === '') {
return [];
}

const lines = csvText.split('\n').filter(line => line.trim() !== '');
const result = [];

for (let i = 0; i < lines.length; i++) {
const line = lines[i];
const row = [];
let current = '';
let inQuotes = false;

for (let j = 0; j < line.length; j++) {
const char = line[j];

if (char === '"') {
if (inQuotes && j + 1 < line.length && line[j + 1] === '"') {
current += '"';
j++;
} else {
inQuotes = !inQuotes;
}
} else if (char === ',' && !inQuotes) {
row.push(current.trim());
current = '';
} else {
current += char;
}
}

row.push(current.trim());
result.push(row);
}

return result;
}

// Error message template
function buatPesanError(kategori, error) {
const namaKategori = getNamaKategori(kategori);
return `
<div class="table-header">
<div class="table-title">${namaKategori}</div>
<div class="table-actions">
<button class="table-copy-btn" onclick="muatDataKategori('${kategori}')">
<i class="fas fa-redo"></i> Retry
</button>
</div>
</div>
<div style="text-align:center;padding:50px;color:var(--danger);">
<i class="fas fa-exclamation-triangle" style="font-size:4rem;margin-bottom:25px;"></i>
<h3>Failed to load data</h3>
<p>${error.message || 'Unknown error occurred'}</p>
</div>
`;
}

// Reload specific category
async function muatDataKategori(kategori) {
try {
document.getElementById('data2').innerHTML = `
<div style="text-align:center;padding:50px;">
<div class="spinner"></div>
<p>Loading ${getNamaKategori(kategori)}...</p>
</div>
`;

// Reload data dari GAS
const response = await fetch(GAS_URL);
const data = await response.json();

if (data.success && data[kategori]) {
semuaData[kategori] = data[kategori];
document.getElementById('data2').innerHTML = buatTabel(data[kategori], kategori);
updateStatsWithRealData();
tampilkanNotifikasi(`${getNamaKategori(kategori)} data reloaded!`, "sukses");
} else {
throw new Error('No data received');
}
} catch (error) {
console.error(`Error reloading ${kategori}:`, error);
document.getElementById('data2').innerHTML = buatPesanError(kategori, error);
tampilkanNotifikasi(`Failed to reload ${getNamaKategori(kategori)} data`, "error");
}
}

// Helper function to get category names
function getNamaKategori(kategori) {
const namaKategori = {
linknawala: 'Blocked Links'
};
return namaKategori[kategori] || kategori;
}

// =============== UI FUNCTIONS ===============
function tampilkanLoading(show) {
const spinner = document.getElementById('loadingSpinner');
spinner.style.display = show ? 'flex' : 'none';
}

function tampilkanNotifikasi(pesan, tipe = "info") {
// Remove existing notifications
const existingNotifications = document.querySelectorAll('.notification');
existingNotifications.forEach(n => n.remove());

// Create notification element
const notifikasi = document.createElement("div");
notifikasi.className = `notification ${tipe}`;

const icons = {
info: "fas fa-info-circle",
sukses: "fas fa-check-circle",
peringatan: "fas fa-exclamation-triangle",
error: "fas fa-times-circle"
};

notifikasi.innerHTML = `
<i class="${icons[tipe]}"></i>
<span>${pesan}</span>
`;

document.body.appendChild(notifikasi);

setTimeout(() => {
notifikasi.style.animation = "slideOutRight 0.3s ease";
setTimeout(() => {
if (document.body.contains(notifikasi)) {
document.body.removeChild(notifikasi);
}
}, 300);
}, 3000);
}

// =============== ENHANCED SEARCH FUNCTIONS ===============
function cariTabel() {
if (sedangMencari) return;

const input = document.getElementById('kotakPencarian').value.toLowerCase().trim();
document.getElementById('pesanTidakDitemukan').style.display = 'none';

if (input.length < 2) {
filterKategori('linknawala');
return;
}

sedangMencari = true;

// Add to search history if significant
if (input.length > 3 && !recentSearches.includes(input)) {
recentSearches.unshift(input);
if (recentSearches.length > 10) {
recentSearches = recentSearches.slice(0, 10);
}
saveSearchHistory();
}

setTimeout(() => {
let ditemukan = false;

// Search in blocked links with current filter
const data = semuaData['linknawala'];
if (data && data.length > 1) {
let hasilFilter = filterData(data, input);

// Apply additional filter based on search filter type
if (currentSearchFilter === 'blocked') {
hasilFilter = hasilFilter.filter(row => {
// Only show blocked items
return true;
});
} else if (currentSearchFilter === 'recent') {
// Show only recently searched items
hasilFilter = hasilFilter.slice(0, 5);
}

if (hasilFilter.length > 1) {
document.getElementById('data2').style.display = 'block';
document.getElementById('data2').innerHTML = buatTabel(hasilFilter, 'linknawala');
ditemukan = true;
}
}

if (!ditemukan && input.length > 0) {
document.getElementById('pesanTidakDitemukan').style.display = 'block';
}

sedangMencari = false;
}, 300);
}

function filterData(data, query) {
if (!query || !data || data.length === 0) return data;

const filtered = [data[0]]; // Include header
const searchTerms = query.split(' ').filter(term => term.length > 0);

for (let i = 1; i < data.length; i++) {
const row = data[i];
if (!row) continue;

const rowText = row.join(' ').toLowerCase();
const allTermsFound = searchTerms.every(term => rowText.includes(term));

if (allTermsFound) {
filtered.push(row);
}
}
return filtered;
}

// =============== TABLE CREATION ===============
function buatTabel(data, kategori) {
if (!data || data.length < 2) {
return `
<div class="table-header">
<div class="table-title">${getNamaKategori(kategori)}</div>
<div class="table-actions">
<button class="table-copy-btn" onclick="muatDataKategori('${kategori}')">
<i class="fas fa-redo"></i> Reload Data
</button>
</div>
</div>
<div style="text-align:center;padding:50px;color:var(--text-muted);">
<i class="fas fa-database" style="font-size:4rem;margin-bottom:25px;"></i>
<h3>No Data Available</h3>
<p>No data found for this category</p>
</div>`;
}

let tableHTML = `
<div class="table-header">
<div class="table-title">${getNamaKategori(kategori)}</div>
<div class="table-actions">
<button class="table-copy-btn" onclick="salinTabel('${kategori}')">
<i class="fas fa-copy"></i> Copy Data
</button>
<button class="table-copy-btn" onclick="eksporKeFile('${kategori}')">
<i class="fas fa-download"></i> Export
</button>
<button class="table-copy-btn" onclick="muatDataKategori('${kategori}')">
<i class="fas fa-redo"></i> Reload
</button>
</div>
</div>
<div class="table-container"><table>`;

// SAMA UNTUK SEMUA KATEGORI - Standard table structure
tableHTML += '<tr>';
if (data[0]) {
data[0].forEach(header => {
tableHTML += `<th>${escapeHTML(header)}</th>`;
});
tableHTML += '<th>Actions</th>';
tableHTML += '</tr>';

for (let i = 1; i < data.length; i++) {
if (!data[i]) continue;

tableHTML += '<tr>';
data[i].forEach((cell, cellIndex) => {
const cellContent = escapeHTML(cell) || '-';
// Jika ini adalah kolom pertama, berikan styling khusus
if (cellIndex === 0) {
tableHTML += `<td class="kolom-pertanyaan">
<div style="display: flex; align-items: flex-start; gap: 12px;">
<i class="fas fa-link" style="color: var(--primary); margin-top: 3px;"></i>
<div>${cellContent}</div>
</div>
</td>`;
}
// Jika ini adalah kolom kedua, berikan styling khusus
else if (cellIndex === 1) {
tableHTML += `<td class="kolom-penyelesaian">
<div style="display: flex; align-items: flex-start; gap: 12px;">
<i class="fas fa-exclamation-triangle" style="color: var(--accent); margin-top: 3px;"></i>
<div>${cellContent}</div>
</div>
</td>`;
}
// Untuk kolom lainnya
else {
tableHTML += `<td>${cellContent}</td>`;
}
});

// Tambahkan sel kosong jika data memiliki kolom lebih sedikit dari header
while (data[i].length < data[0].length) {
tableHTML += '<td>-</td>';
}

// Tombol actions
const firstCell = escapeSpecialChars(data[i][0] || '');
const secondCell = escapeSpecialChars(data[i][1] || '');

tableHTML += `
<td style="vertical-align: middle; text-align: center;">
<span class="teks-copy" onclick="salinKeClipboard('${secondCell}', this, () => tampilkanNotifikasi('Data copied!', 'sukses'))"
style="font-size: 1em; padding: 12px 20px; cursor: pointer;"
title="Copy Data to Clipboard">
<i class="fas fa-copy" style="margin-right: 8px;"></i>COPY
</span>
</td>`;
tableHTML += '</tr>';
}
}

if (!tableHTML.includes('<tr>') || tableHTML.match(/<tr>/g).length <= 2) {
tableHTML += '<tr><td colspan="4" style="text-align:center;padding:50px;color:#ff3366;">No data available for this category</td></tr>';
}

tableHTML += '</table></div>';

return tableHTML;
}

// =============== UTILITY FUNCTIONS ===============
function escapeHTML(str) {
if (!str) return '';
return str.toString()
.replace(/&/g, '&amp;')
.replace(/</g, '&lt;')
.replace(/>/g, '&gt;')
.replace(/"/g, '&quot;')
.replace(/'/g, '&#39;')
.replace(/\n/g, '<br>');
}

function escapeSpecialChars(text) {
if (!text) return '';
return text.toString()
.replace(/\\/g, '\\\\')
.replace(/'/g, "\\'")
.replace(/"/g, '\\"')
.replace(/\n/g, '\\n')
.replace(/\r/g, '\\r')
.replace(/\t/g, '\\t');
}

// =============== COPY FUNCTIONS ===============
function salinTabel(kategori) {
const data = semuaData[kategori];
if (!data || data.length === 0) {
tampilkanNotifikasi("No data to copy", "peringatan");
return;
}

const csvData = data.map(row =>
row.map(cell => `"${(cell || '').replace(/"/g, '""')}"`).join(',')
).join('\n');

salinKeClipboard(csvData, null, () => {
tampilkanNotifikasi("Table data copied to clipboard!", "sukses");
});
}

function salinKeClipboard(text, element, callback) {
const textarea = document.createElement('textarea');
textarea.value = text
.replace(/\\'/g, "'")
.replace(/\\"/g, '"')
.replace(/\\n/g, '\n')
.replace(/\\r/g, '\r')
.replace(/\\t/g, '\t')
.replace(/\\\\/g, '\\');

textarea.style.position = 'fixed';
document.body.appendChild(textarea);
textarea.select();

try {
if (navigator.clipboard) {
navigator.clipboard.writeText(textarea.value).then(() => {
if (element) tampilkanFeedbackSalin(element, true);
if (callback) callback();
}).catch(() => {
fallbackSalin(textarea, element, callback);
});
} else {
fallbackSalin(textarea, element, callback);
}
} catch (err) {
console.error("Copy failed:", err);
if (element) tampilkanFeedbackSalin(element, false);
} finally {
document.body.removeChild(textarea);
}
}

function fallbackSalin(textarea, element, callback) {
try {
const success = document.execCommand('copy');
if (element) tampilkanFeedbackSalin(element, success);
if (callback && success) callback();
} catch (err) {
console.error("Fallback copy failed:", err);
if (element) tampilkanFeedbackSalin(element, false);
}
}

function tampilkanFeedbackSalin(element, isSuccess) {
const originalHTML = element.innerHTML;

element.innerHTML = isSuccess
? '<i class="fas fa-check"></i> Copied!'
: '<i class="fas fa-times"></i> Error!';
element.classList.add('disalin');

setTimeout(() => {
element.innerHTML = originalHTML;
element.classList.remove('disalin');
}, 2000);
}

function eksporKeFile(kategori) {
const data = semuaData[kategori] || [];
if (data.length === 0) {
tampilkanNotifikasi("No data to export", "peringatan");
return;
}

const csvData = data.map(row =>
row.map(cell => `"${(cell || '').replace(/"/g, '""')}"`).join(',')
).join('\n');

const blob = new Blob([csvData], { type: 'text/csv;charset=utf-8;' });
const link = document.createElement('a');
const url = URL.createObjectURL(blob);

link.setAttribute('href', url);
link.setAttribute('download', `${kategori}_${new Date().toISOString().slice(0, 10)}.csv`);
link.style.visibility = 'hidden';

document.body.appendChild(link);
link.click();
document.body.removeChild(link);

tampilkanNotifikasi(`Data exported as ${kategori}.csv`, "sukses");
}

// =============== NAVIGATION FUNCTIONS ===============
function filterKategori(kategori) {
kategoriSekarang = kategori;
tampilkanKotakPencarian();
sembunyikanSemuaElement();

document.getElementById('data2').style.display = 'none';

const data = semuaData[kategori];
if (data && data.length > 1) {
document.getElementById('data2').style.display = 'block';
document.getElementById('data2').innerHTML = buatTabel(data, kategori);
}

document.getElementById('pesanTidakDitemukan').style.display = 'none';
}

function sembunyikanSemuaElement() {
document.getElementById('pesanTidakDitemukan').style.display = 'none';
}

function tampilkanKotakPencarian() {
document.getElementById('kotakPencarian').style.display = 'block';
document.getElementById('kotakPencarian').focus();
}

// =============== SIDEBAR TOGGLE ===============
function toggleSidebar() {
const sidebar = document.querySelector('.sidebar-future');
const toggleIcon = document.querySelector('.sidebar-toggle i');

sidebarCollapsed = !sidebarCollapsed;

if (sidebarCollapsed) {
sidebar.classList.add('collapsed');
toggleIcon.classList.remove('fa-chevron-left');
toggleIcon.classList.add('fa-chevron-right');
} else {
sidebar.classList.remove('collapsed');
toggleIcon.classList.remove('fa-chevron-right');
toggleIcon.classList.add('fa-chevron-left');
}
}

// =============== ACTIVE NAVIGATION ===============
function setActiveNav(element) {
document.querySelectorAll('.robot-nav ul li').forEach(li => {
li.classList.remove('active');
});
element.parentElement.classList.add('active');
}

// =============== WELCOME TEXT ANIMATION ===============
function mulaiAnimasiTeksSelamatDatang() {
const teksSelamatDatang = document.getElementById('teksSelamatDatang');
const texts = ["BLOCKED LINKS DASHBOARD"];
let count = 0;
let index = 0;
let isDeleting = false;
let speed = 1000;

function type() {
const currentText = texts[count];

if (isDeleting) {
teksSelamatDatang.textContent = currentText.substring(0, index - 1);
index--;
speed = 50;
} else {
teksSelamatDatang.textContent = currentText.substring(0, index + 1);
index++;
speed = 150;
}

if (!isDeleting && index === currentText.length) {
isDeleting = true;
speed = 2000;
} else if (isDeleting && index === 0) {
isDeleting = false;
count = (count + 1) % texts.length;
speed = 500;
}

setTimeout(type, speed);
}

type();
}
</script>
</body>
</html>
