<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>SYSTEM: PASARAN v20.0</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
<style>
:root {
--neon: #00ffff;
--neon-purple: #b300ff;
--neon-red: #ff0066;
--dark: #050a18;
--card-bg: rgba(10, 25, 40, 0.7);
--text: #e0f7ff;
--border-glow: 0 0 15px rgba(0, 255, 255, 0.5);
--transition: all 0.3s ease;
}

* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Poppins', sans-serif;
background: var(--bg-primary);
color: var(--text);
line-height: 1.7;
padding: 20px;
min-height: 100vh;
overflow-x: hidden;
position: relative;
background-image: url('https://i.postimg.cc/0QCTsLxB/Kaixen-GIF-Kaixen-Discover-Share-GIFs.gif');
background-size: cover + media query;
background-attachment: fixed;
}

/* Background Partikel Animasi */
#particles-js {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
z-index: -1;
}

/* Audio Unlock Overlay */
#audioUnlock {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.85);
color: var(--neon);
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
z-index: 9999;
cursor: pointer;
font-family: 'Orbitron', sans-serif;
text-align: center;
padding: 20px;
backdrop-filter: blur(5px);
}

#audioUnlock h3 {
margin-bottom: 10px;
text-shadow: 0 0 10px var(--neon);
}

#audioUnlock p {
font-size: 14px;
color: #ccc;
max-width: 400px;
}

/* Header */
.header-container {
text-align: center;
margin: 30px auto;
max-width: 900px;
}

.header {
font-family: 'Poppins', sans-serif;
font-size: 32px;
color: var(--neon);
letter-spacing: 4px;
text-shadow: 0 0 10px var(--neon), 0 0 20px rgba(0, 255, 255, 0.5);
background: rgba(0, 30, 60, 0.2);
border: 1px solid var(--neon);
border-radius: 16px;
padding: 15px 30px;
display: inline-block;
position: relative;
backdrop-filter: blur(5px);
box-shadow: var(--border-glow);
}

.status {
font-size: 12px;
color: #00ff00;
text-shadow: 0 0 5px #00ff00;
margin-top: 5px;
letter-spacing: 1px;
}

/* Next Draw Card */
.next-draw-card {
max-width: 850px;
margin: 20px auto;
background: var(--card-bg);
backdrop-filter: blur(10px);
border: 1px solid var(--neon);
border-radius: 18px;
padding: 25px;
box-shadow: 0 10px 30px rgba(0, 255, 255, 0.1);
position: relative;
overflow: hidden;
transition: var(--transition);
}

.next-draw-card:hover {
transform: translateY(-3px);
box-shadow: 0 15px 35px rgba(0, 255, 255, 0.2);
}

.next-draw-content {
text-align: center;
position: relative;
z-index: 1;
}

.next-title {
font-size: 16px;
color: #00ff00;
letter-spacing: 2px;
margin-bottom: 10px;
text-shadow: 0 0 5px #00ff00;
}

.next-name {
font-family: 'Orbitron', sans-serif;
font-size: 24px;
color: var(--neon);
margin: 5px 0;
font-weight: bold;
}

.next-time {
font-size: 15px;
color: #00ccff;
margin-bottom: 10px;
}

.countdown {
font-family: 'Orbitron', monospace;
font-size: 28px;
color: #ffcc00;
font-weight: bold;
margin: 10px 0;
letter-spacing: 2px;
}

.next-desc {
font-size: 13px;
color: #cccccc;
opacity: 0.9;
}

/* Main Container */
.main-container {
max-width: 850px;
margin: 20px auto;
background: var(--card-bg);
backdrop-filter: blur(10px);
border: 1px solid rgba(0, 255, 255, 0.3);
border-radius: 18px;
padding: 30px;
box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

.prompt {
color: var(--neon);
font-weight: bold;
}

/* Dropdown Styling */
.select-wrapper {
position: relative;
margin: 20px 0;
}

.select-wrapper::after {
content: "â–¼";
font-size: 10px;
color: var(--neon);
position: absolute;
right: 15px;
top: 50%;
transform: translateY(-50%);
pointer-events: none;
}

select {
width: 100%;
padding: 16px;
background: rgba(0, 30, 60, 0.6);
color: var(--neon);
border: 1px solid var(--neon);
border-radius: 10px;
font-family: 'Share Tech Mono', monospace;
font-size: 14px;
outline: none;
cursor: pointer;
appearance: none;
transition: var(--transition);
}

select:hover, select:focus {
background: rgba(0, 40, 80, 0.7);
box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
border-color: var(--neon-purple);
}

/* Output Box */
#output {
background: rgba(0, 20, 40, 0.7);
color: var(--neon);
padding: 20px;
border: 1px solid var(--neon);
border-left: 5px solid var(--neon);
border-radius: 10px;
font-size: 14px;
white-space: pre-line;
min-height: 100px;
display: none;
margin: 20px 0;
box-shadow: 0 0 15px rgba(0, 255, 255, 0.1);
animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
from { opacity: 0; }
to { opacity: 1; }
}

/* Copy Button */
.copy-btn {
background: transparent;
color: var(--neon);
border: 1px solid var(--neon);
padding: 12px 20px;
font-family: 'Share Tech Mono', monospace;
cursor: pointer;
font-size: 14px;
border-radius: 8px;
transition: var(--transition);
display: none;
position: relative;
overflow: hidden;
}

.copy-btn:hover {
background: var(--neon);
color: #000;
box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
transform: translateY(-2px);
}

.copy-btn::before {
content: '';
position: absolute;
top: 0; left: -100%; width: 100%; height: 100%;
background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
transition: left 0.8s;
}

.copy-btn:hover::before {
left: 100%;
}

/* Footer */
.footer {
text-align: center;
font-size: 12px;
color: #0088cc;
margin-top: 30px;
letter-spacing: 1px;
}

/* Notification Modal */
.notif-modal {
position: fixed;
inset: 0;
background: rgba(0, 0, 0, 0.95);
z-index: 9998;
display: none;
justify-content: center;
align-items: center;
backdrop-filter: blur(8px);
}

.notif-box {
background: #000;
border: 2px solid #ff0000;
border-radius: 16px;
padding: 25px;
text-align: center;
box-shadow: 0 0 40px rgba(255, 0, 0, 0.8);
animation: alertPulse 1.5s infinite;
max-width: 420px;
color: #fff;
}

@keyframes alertPulse {
0% { box-shadow: 0 0 10px red; }
50% { box-shadow: 0 0 30px red, 0 0 60px rgba(255, 0, 0, 0.9); }
100% { box-shadow: 0 0 10px red; }
}

.notif-title {
color: #ff0000;
font-size: 22px;
font-weight: bold;
text-shadow: 0 0 10px #ff0000;
}

.notif-content {
margin-top: 12px;
font-size: 15px;
line-height: 1.5;
}

/* Responsive */
@media (max-width: 768px) {
.header { font-size: 24px; padding: 10px 20px; }
.next-name { font-size: 20px; }
.countdown { font-size: 22px; }
.main-container, .next-draw-card { padding: 20px; }
}
</style>
</head>
<body>

<!-- Background Partikel -->
<div id="particles-js"></div>

<!-- Audio Unlock Overlay -->
<div id="audioUnlock">
  <h3>ðŸ”Š KLIK DI SINI UNTUK MENJALANKAN SISTEM AUDIO</h3>
  <p>Klik sekali untuk mengaktifkan suara sistem<br>(diperlukan oleh browser)</p>
</div>

<!-- Header -->
<div class="header-container">
<div class="header">
[ PASARAN ]
<div class="status">STATUS: <span style="color:#00ff00">ONLINE</span> | MODE: REAL-TIME</div>
</div>
</div>

<!-- Next Draw Card -->
<div class="next-draw-card">
<div class="next-draw-content">
<div class="next-title">[NEXT DRAW]</div>
<div class="next-name" id="nextName">Loading...</div>
<div class="next-time" id="nextTime">-</div>
<div class="countdown" id="countdown">00:00:00</div>
<div class="next-desc" id="nextDesc">Menghitung pasaran berikutnya...</div>
</div>
</div>

<!-- Main System -->
<div class="main-container">
<p><span class="prompt">C:\\PASARAN></span> EXECUTE SELECTION:</p>

<div class="select-wrapper">
<select id="pasaran" onchange="runRobot()">
<option value="">-- PILIH PASARAN --</option>
<option value="HOKIDRAW">HOKIDRAW</option>
<option value="toto_macau_pagi">TOTO_MACAU_PAGI</option>
<option value="hua_hin_0100">HUAHIN_0100</option>
<option value="kentucky_midday">KENTUCKY_MIDDAY</option>
<option value="florida_midday">FLORIDA_MIDDAY</option>
<option value="bangkok_0130">BANGKOK_0130</option>
<option value="new_york_midday">NEW_YORK_MIDDAY</option>
<option value="carolina_day">CAROLINA_DAY</option>
<option value="brunei_02">BRUNEI_02</option>
<option value="oregon_03">OREGON_03</option>
<option value="oregon_06">OREGON_06</option>
<option value="california">CALIFORNIA</option>
<option value="florida_evening">FLORIDA_EVENING</option>
<option value="oregon_09">OREGON_09</option>
<option value="bangkok_0930">BANGKOK_0930</option>
<option value="new_york_evening">NEW_YORK_EVENING</option>
<option value="kentucky_evening">KENTUCKY_EVENING</option>
<option value="carolina_evening">CAROLINA_EVENING</option>
<option value="toto_cambodia">TOTO_CAMBODIA</option>
<option value="chelsea_11">CHELSEA_11</option>
<option value="oregon_12">OREGON_12</option>
<option value="bullseye">BULLSEYE</option>
<option value="poipet_12">POIPET_12</option>
<option value="toto_macau_siang">TOTO_MACAU_SIANG</option>
<option value="sydney">SYDNEY</option>
<option value="jakarta_1400">JAKARTA_1400</option>
<option value="brunei_14">BRUNEI_14</option>
<option value="chelsea_15">CHELSEA_15</option>
<option value="toto_macau_5d_sore">TOTO_MACAU_5D_SORE</option>
<option value="poipet_15">POIPET_15</option>
<option value="toto_mali_1530">TOTO_MALI_1530</option>
<option value="toto_macau_sore">TOTO_MACAU_SORE</option>
<option value="hua_hin_1630">HUAHIN_1630</option>
<option value="kingkong_4d_sore">KINGKONG_4D_SORE</option>
<option value="singapore_pools">SINGAPORE_POOLS</option>
<option value="magnum4d_pools">MAGNUM4D_POOLS</option>
<option value="chelsea_19">CHELSEA_19</option>
<option value="toto_macau_malam_I">TOTO_MACAU_MALAM_I</option>
<option value="poipet_19">POIPET_19</option>
<option value="pcso">PCSO</option>
<option value="toto_mali_2030">TOTO_MALI_2030</option>
<option value="hua_hin_2100">HUAHIN_2100</option>
<option value="chelsea_21">CHELSEA_21</option>
<option value="toto_macau_5d_malam">TOTO_MACAU_5D_MALAM</option>
<option value="nevada">NEVADA</option>
<option value="brunei_21">BRUNEI_21</option>
<option value="toto_macau_malam_II">TOTO_MACAU_MALAM_II</option>
<option value="poipet_22">POIPET_22</option>
<option value="hongkong">HONGKONG</option>
<option value="toto_macau_malam_III">TOTO_MACAU_MALAM_III</option>
<option value="toto_mali_2330">TOTO_MALI_2330</option>
<option value="jakarta_2330">JAKARTA_2330</option>
<option value="kingkong_4d_malam">KINGKONG_4D_MALAM</option>
</select>
</div>

<div id="output"></div>
<button class="copy-btn" id="copyBtn" onclick="copyToClipboard()">
COPY TO CLIPBOARD [CTRL+C]
</button>

<p class="footer">[ MODE: JADWAL & REAL-TIME INFO ]</p>
</div>

<!-- Notification Modal -->
<div class="notif-modal" id="notifModal">
<div class="notif-box">
<div class="notif-title">ðŸ”” NOTIFIKASI SISTEM</div>
<div class="notif-content">
<span>Hari ini adalah result pasaran</span><br>
<span>Harap periksa jadwal Anda!</span>
</div>
</div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script>
// =============== AUDIO UNLOCK SYSTEM ===============
let audioUnlocked = false;

// Cek apakah sudah pernah unlock
if (localStorage.getItem("audioUnlocked") === "true") {
  audioUnlocked = true;
  document.getElementById("audioUnlock")?.remove();
}

// Unlock audio saat klik
document.getElementById("audioUnlock")?.addEventListener("click", function() {
  const ctx = new (window.AudioContext || window.webkitAudioContext)();
  ctx.resume().then(() => {
    audioUnlocked = true;
    localStorage.setItem("audioUnlocked", "true");
    this.remove(); // Hapus overlay
    playSound('https://assets.mixkit.co/sfx/preview/mixkit-software-interface-start-2574.mp3', 0.3);
  });
});

// =============== PLAY SOUND FUNCTION ===============
function playSound(src, vol = 1) {
  if (!audioUnlocked) return;
  const audio = new Audio(src);
  audio.volume = vol;
  audio.play().catch(err => console.warn("Gagal mainkan suara:", err));
}

// =============== PARTIKEL BG ===============
particlesJS("particles-js", {
  particles: {
    number: { value: 80, density: { enable: true, area: 800 } },
    color: { value: "#00ffff" },
    shape: { type: "circle" },
    opacity: { value: 0.5, random: true },
    size: { value: 3, random: true },
    move: {
      enable: true,
      speed: 2,
      direction: "none",
      random: true,
      straight: false,
      out_mode: "out"
    }
  },
  interactivity: {
    detect_on: "canvas",
    events: { onhover: { enable: true, mode: "repulse" }, onclick: { enable: true, mode: "push" } }
  },
  retina_detect: true
});

// =============== DAFTAR PASARAN ===============
const pasaranList = [
  { key: "HOKIDRAW", name: "HOKIDRAW", result: "setiap jam", desc: "Result 24 kali dalam sehari dan result keluar per 1 jam sekali ya bosku serta setelah livedraw selesai dilakukan sekitar menit 10-15 ya bosku." },
  { key: "toto_macau_pagi", name: "TOTO_MACAU_PAGI", result: "00:15", desc: "Tutup Pukul 00:00 WIB, Result Pukul 00:15 WIB." },
  { key: "hua_hin_0100", name: "HUAHIN_0100", result: "01:00", desc: "Tutup Pukul 00:45 WIB, Result Pukul 01:00 WIB." },
  { key: "kentucky_midday", name: "KENTUCKY_MIDDAY", result: "00:20", desc: "Tutup Pukul 00:05 WIB, Result Pukul 00:20 WIB." },
  { key: "florida_midday", name: "FLORIDA_MIDDAY", result: "00:30", desc: "Tutup Pukul 00:20 WIB, Result Pukul 00:30 WIB." },
  { key: "bangkok_0130", name: "BANGKOK_0130", result: "01:30", desc: "Tutup Pukul 01:15 WIB, Result Pukul 01:30 WIB." },
  { key: "new_york_midday", name: "NEW_YORK_MIDDAY", result: "01:25", desc: "Tutup Pukul 01:15 WIB, Result Pukul 01:25 WIB." },
  { key: "carolina_day", name: "CAROLINA_DAY", result: "02:00", desc: "Tutup Pukul 01:45 WIB, Result Pukul 02:00 WIB." },
  { key: "brunei_02", name: "BRUNEI_02", result: "02:45", desc: "Tutup Pukul 02:30 WIB, Result Pukul 02:45 WIB." },
  { key: "oregon_03", name: "OREGON_03", result: "03:00", desc: "Tutup Pukul 02:50 WIB, Result Pukul 03:00 WIB." },
  { key: "oregon_06", name: "OREGON_06", result: "06:00", desc: "Tutup Pukul 05:50 WIB, Result Pukul 06:00 WIB." },
  { key: "california", name: "CALIFORNIA", result: "08:30", desc: "Tutup Pukul 08:25 WIB, Result Pukul 08:30 WIB." },
  { key: "florida_evening", name: "FLORIDA_EVENING", result: "08:45", desc: "Tutup Pukul 08:35 WIB, Result Pukul 08:45 WIB." },
  { key: "oregon_09", name: "OREGON_09", result: "09:00", desc: "Tutup Pukul 08:50 WIB, Result Pukul 09:00 WIB." },
  { key: "bangkok_0930", name: "BANGKOK_0930", result: "09:30", desc: "Tutup Pukul 09:15 WIB, Result Pukul 09:30 WIB." },
  { key: "new_york_evening", name: "NEW_YORK_EVENING", result: "09:35", desc: "Tutup Pukul 09:25 WIB, Result Pukul 09:35 WIB." },
  { key: "kentucky_evening", name: "KENTUCKY_EVENING", result: "10:00", desc: "Tutup Pukul 09:45 WIB, Result Pukul 10:00 WIB." },
  { key: "carolina_evening", name: "CAROLINA_EVENING", result: "10:22", desc: "Tutup Pukul 10:17 WIB, Result Pukul 10:22 WIB." },
  { key: "toto_cambodia", name: "TOTO_CAMBODIA", result: "11:00", desc: "Tutup Pukul 10:45 WIB, Result Pukul 11:00 WIB." },
  { key: "chelsea_11", name: "CHELSEA_11", result: "11:15", desc: "Tutup Pukul 11:00 WIB, Result Pukul 11:15 WIB." },
  { key: "oregon_12", name: "OREGON_12", result: "12:00", desc: "Tutup Pukul 11:50 WIB, Result Pukul 12:00 WIB." },
  { key: "bullseye", name: "BULLSEYE", result: "13:15", desc: "Tutup Pukul 13:00 WIB, Result Pukul 13:15 WIB." },
  { key: "poipet_12", name: "POIPET_12", result: "12:30", desc: "Tutup Pukul 12:15 WIB, Result Pukul 12:30 WIB." },
  { key: "toto_macau_siang", name: "TOTO_MACAU_SIANG", result: "13:15", desc: "Tutup Pukul 13:00 WIB, Result Pukul 13:15 WIB." },
  { key: "sydney", name: "SYDNEY", result: "14:05", desc: "Tutup Pukul 13:49 WIB, Result Pukul 14:05 WIB." },
  { key: "jakarta_1400", name: "JAKARTA_1400", result: "14:10", desc: "Tutup Pukul 13:55 WIB, Result Pukul 14:10 WIB." },
  { key: "brunei_14", name: "BRUNEI_14", result: "14:45", desc: "Tutup Pukul 14:30 WIB, Result Pukul 14:45 WIB." },
  { key: "chelsea_15", name: "CHELSEA_15", result: "15:15", desc: "Tutup Pukul 15:00 WIB, Result Pukul 15:15 WIB." },
  { key: "toto_macau_5d_sore", name: "TOTO_MACAU_5D_SORE", result: "15:30", desc: "Tutup Pukul 15:15 WIB, Result Pukul 15:30 WIB." },
  { key: "poipet_15", name: "POIPET_15", result: "15:30", desc: "Tutup Pukul 15:15 WIB, Result Pukul 15:30 WIB." },
  { key: "toto_mali_1530", name: "TOTO_MALI_1530", result: "15:30", desc: "Tutup Pukul 15:15 WIB, Result Pukul 15:30 WIB." },
  { key: "toto_macau_sore", name: "TOTO_MACAU_SORE", result: "16:15", desc: "Tutup Pukul 16:00 WIB, Result Pukul 16:15 WIB." },
  { key: "hua_hin_1630", name: "HUAHIN_1630", result: "16:30", desc: "Tutup Pukul 16:15 WIB, Result Pukul 16:30 WIB." },
  { key: "kingkong_4d_sore", name: "KINGKONG_4D_SORE", result: "17:15", desc: "Tutup Pukul 17:00 WIB, Result Pukul 17:15 WIB." },
  { key: "singapore_pools", name: "SINGAPORE_POOLS", result: "17:45", desc: "Tutup Pukul 17:30 WIB, Result Pukul 17:45 WIB." },
  { key: "magnum4d_pools", name: "MAGNUM4D_POOLS", result: "18:40", desc: "Tutup Pukul 18:10 WIB, Result Pukul 18:40 WIB." },
  { key: "chelsea_19", name: "CHELSEA_19", result: "19:15", desc: "Tutup Pukul 19:00 WIB, Result Pukul 19:15 WIB." },
  { key: "toto_macau_malam_I", name: "TOTO_MACAU_MALAM_I", result: "19:15", desc: "Tutup Pukul 19:00 WIB, Result Pukul 19:15 WIB." },
  { key: "poipet_19", name: "POIPET_19", result: "19:45", desc: "Tutup Pukul 19:30 WIB, Result Pukul 19:45 WIB." },
  { key: "pcso", name: "PCSO", result: "20:10", desc: "Tutup Pukul 19:50 WIB, Result Pukul 20:10 WIB." },
  { key: "toto_mali_2030", name: "TOTO_MALI_2030", result: "20:30", desc: "Tutup Pukul 20:15 WIB, Result Pukul 20:30 WIB." },
  { key: "hua_hin_2100", name: "HUAHIN_2100", result: "21:00", desc: "Tutup Pukul 20:45 WIB, Result Pukul 21:00 WIB." },
  { key: "chelsea_21", name: "CHELSEA_21", result: "21:15", desc: "Tutup Pukul 21:00 WIB, Result Pukul 21:15 WIB." },
  { key: "toto_macau_5d_malam", name: "TOTO_MACAU_5D_MALAM", result: "21:30", desc: "Tutup Pukul 21:15 WIB, Result Pukul 21:30 WIB." },
  { key: "nevada", name: "NEVADA", result: "21:30", desc: "Tutup Pukul 21:15 WIB, Result Pukul 21:30 WIB." },
  { key: "brunei_21", name: "BRUNEI_21", result: "21:45", desc: "Tutup Pukul 21:30 WIB, Result Pukul 21:45 WIB." },
  { key: "toto_macau_malam_II", name: "TOTO_MACAU_MALAM_II", result: "22:15", desc: "Tutup Pukul 22:00 WIB, Result Pukul 22:15 WIB." },
  { key: "poipet_22", name: "POIPET_22", result: "22:45", desc: "Tutup Pukul 22:30 WIB, Result Pukul 22:45 WIB." },
  { key: "hongkong", name: "HONGKONG", result: "23:15", desc: "Tutup Pukul 22:59 WIB, Result Pukul 23:15 WIB." },
  { key: "toto_macau_malam_III", name: "TOTO_MACAU_MALAM_III", result: "23:15", desc: "Tutup Pukul 23:00 WIB, Result Pukul 23:15 WIB." },
  { key: "toto_mali_2330", name: "TOTO_MALI_2330", result: "23:30", desc: "Tutup Pukul 23:15 WIB, Result Pukul 23:30 WIB." },
  { key: "jakarta_2330", name: "JAKARTA_2330", result: "23:40", desc: "Tutup Pukul 23:25 WIB, Result Pukul 23:40 WIB." },
  { key: "kingkong_4d_malam", name: "KINGKONG_4D_MALAM", result: "23:45", desc: "Tutup Pukul 23:30 WIB, Result Pukul 23:45 WIB." }
];

const jadwal = {};
pasaranList.forEach(p => {
  jadwal[p.key] = `Pasaran : ${p.name}\n${p.desc}`;
});

let currentText = "";

function runRobot() {
  const value = document.getElementById("pasaran").value;
  const output = document.getElementById("output");
  const copyBtn = document.getElementById("copyBtn");

  if (!value) {
    output.style.display = "none";
    copyBtn.style.display = "none";
    return;
  }

  currentText = jadwal[value];
  output.textContent = currentText;
  output.style.display = "block";
  copyBtn.style.display = "inline-block";

  localStorage.setItem("lastPasaran", value);
}

function copyToClipboard() {
  if (!currentText) return;

  const textarea = document.createElement("textarea");
  textarea.value = currentText;
  document.body.appendChild(textarea);
  textarea.select();
  document.execCommand("copy");
  document.body.removeChild(textarea);

  playSound('https://assets.mixkit.co/sfx/preview/mixkit-software-interface-start-2574.mp3', 0.3);

  const btn = document.getElementById("copyBtn");
  const original = btn.textContent;
  btn.textContent = "[COPIED!]";

  setTimeout(() => btn.textContent = original, 1500);
}

// =============== UPDATE NEXT DRAW ===============
function updateNextDraw() {
  const now = new Date();
  const currentSec = now.getHours() * 3600 + now.getMinutes() * 60 + now.getSeconds();

  let next = null;
  let minDiff = Infinity;

  pasaranList
    .filter(p => p.result !== "setiap jam")
    .forEach(p => {
      const [h, m] = p.result.split(':').map(Number);
      const resultSec = h * 3600 + m * 60;
      let diff = resultSec - currentSec;
      if (diff < 0) diff += 86400;

      if (diff < minDiff) {
        minDiff = diff;
        next = p;
      }
    });

  if (next) {
    const h = Math.floor(minDiff / 3600);
    const m = Math.floor((minDiff % 3600) / 60);
    const s = minDiff % 60;

    document.getElementById("nextName").textContent = next.name;
    document.getElementById("nextTime").textContent = `RESULT: ${next.result} WIB`;
    document.getElementById("countdown").textContent = `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
    document.getElementById("nextDesc").textContent = next.desc;
  }
}

setInterval(updateNextDraw, 1000);
window.addEventListener("load", () => {
  updateNextDraw();
  const last = localStorage.getItem("lastPasaran");
  if (last) document.getElementById("pasaran").value = last;
});

// =============== NOTIFIKASI OTOMATIS ===============
const notifModal = document.getElementById("notifModal");

setInterval(() => {
  const now = new Date();
  if (now.getHours() === 9 && now.getMinutes() === 0 && now.getSeconds() < 2) {
    notifModal.style.display = "flex";
    playSound('https://assets.mixkit.co/sfx/preview/mixkit-alarm-digital-clock-beep-989.mp3', 0.5);
  }
}, 1000);

notifModal.addEventListener("click", () => {
  notifModal.style.display = "none";
});

document.querySelector('.notif-box')?.addEventListener('click', e => e.stopPropagation());
</script>
</body>
</html>